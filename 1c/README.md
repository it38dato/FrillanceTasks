<p>Services:<br># Разработка базы данных Практическое пособие разработчика.<br># Администрирование баз данных.<br># Разработка Соединение таблиц.<br># Разработка СКД - Разработка отчетов Создание отчета<br># Разработка Отчеты.<br># Разработка Сортировка данных.<br># Разработка Итоги в запросе.<br># Разработка Копирование объектов конфигурации.<br># Разработка История выбора.<br># Разработка Примитивные типы данных.<br># Разработка Ссылочные типы данных.<br># Разработка Линейные справочники.<br># Разработка Иерархические справочники.<br># Разработка Стандартные реквизиты.<br># Разработка Внешняя печатная форма.<br># Разработка Хранилище картинок.<br># Разработка Штрихкод.<br><strong>Task:</strong><br>База данных "Практическое пособие разработчика 1c".<br>В качестве конфигурации для разработки использовать базу, полученную в результате решения тестового примера по книге Радченко М.Г.<br>Необходимо доработать конфигурацию так, чтобы обеспечить расчет вознаграждения мастеру за оказанные им услуги при проведении документа «Оказание услуг». Вознаграждение высчитывается как процент от общей суммы, предоставленных по данному документу услуг (без учёта проданных товаров) и составляет:<br>5%  сумма меньше 1 000 руб.<br>10%  сумма от 1 000 до 5 000 руб.<br>15%  сумма больше 5 000 руб.<br>Требуется разработать структуру данных для хранения накопленного вознаграждения.<br>Разработать отчет, позволяющий получить общие суммы вознаграждений по каждому мастеру за произвольно выбранный период.<br>Пример отчета:<br>Период: 01.01.2013 – 15.05.2013<br>Мастер  Сумма<br>Иванов Иван  1000<br>Петров Пётр  1500<br>Анализ производительности:<br>Добавим в диалог кнопку, которую программа будет для каждой строки документа получать из справочника цену товара, подставлять ее в строку и пересчитывать сумму. Добавим неовую комаанду Сделать с флажком Изменяет сохраняемые данные.<br># Разработка базы данных Практическое пособие разработчика.<br><strong>Decision:</strong><br>- конфигруатор-документы-поступление товаров-формаДокументов-командная панель-команды-добавить-имя:сделать-флажок:изменяет сохраненные данные-перетаскиваем в командную панель команду-действие-добавить<br><strong>Task:</strong><br>Точка останова. понять, как работает механзим получения цены и номенклатуры из справочника (в форме документы, форма докмента)<br># Администрирование баз данных.<br><strong>Decision:</strong><br>установить точку останова на интересующую строку содержимого этой процедуры. В нашем случае, поставим точку в первой строке (Стр=Элементы.Товары.ТекущиеДанные;) процедуры.<br>запускаем в обычном пользовательском режиме - пробуем создать новую номенклатуру в поступлении товаров - увидим что в конфигураторе появится стреллочка - можем перемещаться по коду нажимая f11 или shift+f10<br><strong>Task:</strong><br>Сервис при программировании. Шаблоны текста<br>Включить шаблоны<br># Администрирование баз данных.<br><strong>Decision:</strong><br>Меню:Конфигуратор-Сервис-Параметры<br><strong>Task:</strong><br>Увидеть шаблоны<br># Администрирование баз данных.<br><strong>Decision:</strong><br>Меню-сервис-Шаблоны текста<br><strong>Task:</strong><br>Выбрать шаблоны<br># Администрирование баз данных.<br><strong>Decision:</strong><br>Действия-настройка шаблонов<br><strong>Task:</strong><br>Создание ролей и описание прав пользоавтелей<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- справочник номенклатура - создадим новый элемент справочника - в документе выбрать этот товар в табличную часть - запишем документ (т.е. купим товар) - вернемся в справочник номенклатура - удалим его совсем - В результате будет битая ссылка. Это не правильно.<br>  пометить на удаление товар - главное меню - все функции - стандартные - удаление помеченных объектов<br><strong>Task:</strong><br>Создадим в нашей конфигурации роль для себя - "полные права"<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- Конфигурация-общие-роли-Имя:ПолныеПрава-добавить-права:отметить все элементы-действия:установить все права-<br><strong>Task:</strong><br>Мы ведь собираемся создавать новые объекты, и у старых появятся со временем новые реквизиты и табличные частицы поэтому еще добавим<br># Администрирование баз данных.<br><strong>Decision:</strong><br>-флажок:устанавливать права для новых объектов-флажок:Устанавливать права для реквизитов и табличчных частей по умолчанию-<br><strong>Task:</strong><br>Для роли ПОЛНЫЕ ПРАВА, чтобы пользователь не смог удалять элемент справочника из базы без проверки ссылочной целстности базы.<br># Администрирование баз данных.<br><strong>Decision:</strong><br>-справочники,документы-снять флажок-интерактивное удаление-меню-конфигурация-обновить конфигурацию БД<br><strong>Task:</strong><br>Добавим нового пользователя<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- меню-администрирование-пользователи-добавить-Имя:Администратор-прочие-флажок:полные права<br>Теперь можно выйти и войти под учеткой. И удалить новый товар не получится, такая функция просто исчезнет с меню "Еще"<br><strong>Task:</strong><br>Активные пользователи<br>посмотреть работающих сейчас пользователей БД<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- меню-администрирование-активные пользователи.<br>Попросить их выйти из БД можно, воспользовавшись механизмом конфигурации или службой администирования серверов, которая инсталируется в каталог программных файлов (1СV7 servers.msc) и позваляет отключать соединения с БД.<br><strong>Task:</strong><br>Журнал регистрации<br>Настроим конфигуратор так, чтобы журнал велся, регистрировать некие события в нем<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- меню-администрирование-настройка журнала регистрации-флажок:регистрировать ошибки, предупреждения, информацию, примечания<br><strong>Task:</strong><br>События пользователя<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- меню-администрирование-журнал регистрации<br><strong>Task:</strong><br>Выгрузка и загрузка БД<br>Выгрузить из конфигурации. В момент выгрузки в БД не должны работать пользователи.<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- меню-администрирование-выгрузить БД-расширение .dt<br><strong>Task:</strong><br>Загрузить в конфигурацию<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- меню-администрирование-загрузить БД-расширение .dt<br><strong>Task:</strong><br>Конфигурация БД<br>в базе сидит огромное предприятие, все работают и одному пользователю повезло залезть туда, где вы допустили ошибку. одному ему она мешает, а остальные даже о ней не догадываются. Чтобы всех с БД не выгонять, нужно:<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- исправить ошибку - обновить динамически- и одного попросить выйти из программы - заново войти<br><strong>Task:</strong><br>Тестирование и исправление БД<br>Когда мы удалили элементы, осталась битая ссылка. Нужно это исправлять. Когда нет пользователей в БД можно выполнить тестирование и исправление БД.<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- меню-администрирование-тестирование и исправление-поставим везде флажки-в двух колонках отметим создавать объекты-выполнить<br>Запустим конфигуратор - посмотрим, что изменилось в элементе, которую мы оставили с битой ссылкой<br><strong>Task:</strong><br>Лечение файловой БД<br>Если после сбоя совсем все плохо и вас даже не пускают в конфигуратор, можно восппользоваться программой проверки физической целостности файла БД называется chdbfl.exe. он позваоляет восстановить БД<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- указывается расположение БД - исправлять ошибки - выполнить<br><strong>Task:</strong><br>Константы<br>Решили мы продать конфигурацию предприятию, которое торгует услугами. И нет у них складов, и просят они убрать эти склады.<br># Администрирование баз данных.<br><strong>Decision:</strong><br>Для того чтобы убрать надо убрать из главного окна, убрать из всех документов, из всех отчетов. Проще не убрать, а скрыть по флажку. Этот флажок и бдет храниться в константе.<br>  конфигурация-добавить константу-УчетПоСкладам-тип:булево-Представление:использовать стандартные команды-конфигурацияобщие-подсистемы-сервис-состав:открыть-флаг:УчетПоСкладам<br><strong>Task:</strong><br>Функциональные опции<br>В примере учет по складам мы можем установить конфигурацию разным предприятиям. Некоторые из них имеют несколько складов, и учет в разрезе складов им обяазательно нужен. Некоторые могу завести этот один склад и во всех документах его выбирать, а во всех отчетах ео видеть, но не хотят. Поэтому нужно предусмотреть режим, при котором с панели навигации должна убраться ссылка открытия справочника "Склады", а из документов поле ввода для выбора склада.<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- Конфигурация-общие-функциональные опции-добавить-имя:УчетПоСкладам-хранение:указывыаем нашу константу УчетПоСкладам-состав-помечаем флажками там где есть связь со складом<br>- В пользовательском интерфейсе вся информация о складах исчезнет<br><strong>Task:</strong><br>Создание механизма компоновки данных<br>Добавим в нашу конфигурацию отчет, который позволит распечать список справочника "номенклатура". Мы хотим напечатать не весь справочник, а с нужной сортировкой.<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- Конфигурация-отчеты-добавить-имя,синонимы:ПрайсЛист-подсистемы-продажи-основные-открыть схему компоновки данных-добавить набор данных запрос-<br>- конструктор запроса-таблицы-справочники-номенклатура &gt; - код &gt;, изготовитель &gt;, наименование &gt;, цена &gt; - ок - поле - флажок "Цена" - поменяем на "Цена продажи"<br><strong>Task:</strong><br>Группировка отчета<br>Нужно описать какие в отчете будут группировки.вывести все строки, которые есть в справочнике<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- Конфигурация-отчеты-добавить-имя,синонимы:ПрайсЛист-подсистемы-продажи-основные-открыть схему компоновки данных-настройки-новая группировка-ок-<br><strong>Task:</strong><br>Если бы нам нужно было бы сгруппировать данные, например, по поставкам НДС и посчитать, например, количество, качество товаров с с каждой ставкой , мы бы вместо пустой добавили группировку "Ставка НДС"<br><strong>Decision:</strong><br>- выбранные поля-код, наименование, цена-другие настройки-флаг:заголово-Прайс лист-<br><strong>Task:</strong><br>Свойства пользовательских настроек<br>B отчете мы разрешим управлять пользователю.<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- отчет-свойства элемента пользовательских настроек-выбор поля:колонки,быстрый доступ-отбор:быстрый доступ-порядок:быстрый доступ-условное офомление:обычный-группировки-обычный<br><strong>Task:</strong><br>Установить 1С в 101 кабинете или просто обновить 1С<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- 1С - тонкий клиент - Сетап от администратора - рус - далее - ок - запуск - добавление (изменить) - добавл в сущ - наименов любое - галочку на Сервере 1С предприятия - кластер (w-1c-app:1741) - инф база имя (tDb) - далее - тонкий клиент - версия 1С -(8.3... - будет меняться) - готово - запуск - инциалы, пароль - меняем на нужный пароль<br><strong>Task:</strong>&nbsp;&nbsp; <br>переименовать пользователя (кадры) в 1с<br># Администрирование баз данных.<br><strong>Decision:</strong><br>- из под учетки бухгалтера в 1с выбрать администрирование и польз, меняем имя.<br><strong>Task:</strong><br>Соединение таблиц в запросе<br># Разработка Соединение таблиц.<br><strong>Decision:</strong><br>- Запрос - простое соединение - конструктор запроса - Справочники - Контрагенты, Организации&gt; - Нименование(Контрагенты),ИНН(Организации))&gt; - ок<br><strong>Task:</strong><br>Соединение таблиц в запросе<br>Получить список всех продаж и товаров в хронологиическом порядке<br># Разработка Соединение таблиц.<br><strong>Decision:</strong><br>- Добавить запрос - Объединение (продажи и товары в хронологии) - конструктор запроса - таблицы и поля - база данных - документы - заказ клиента&gt; - номер, дата, партнер, сумма документа&gt; - объединение/псевдонимы - запрос - добавить - Таблицы и поля - РасходныйОрдерНаТовары&gt; - номер, дата - поля -добавить - 0 - объединение/псевдонимы - запрос2 - 0 - ок<br><strong>Task:</strong><br>СКД - Разработка отчетов. Создание отчета - фиксированный макет<br>- Нужно создать отчет остатки товаров, который должен показывать остатки номенклатуры в разрезе в виде таблицы с группировкой по складам. Сначала выведем на форму элемент, который позволит нам показать результат отчета пользователю<br>- Теперь нужно создать макет<br>- Разработать алгоритм, который позволит вывести нам результат в табличный документ и показать его на форме пользователю<br># Разработка СКД.<br><strong>Decision:</strong><br>- Конфигурация - Отчеты - добавить - ОстаткиТоваров_Вариант1 - Формы - Форма отчета - открыть - добавить реквизит - ТабДок - Выбрать тип - +Табличный документ - перетаскиваем ТабДок из реквизитов в форму - Положение Заголовка - Нет - Команды - добавить - СформироватьОтчет - Представление - Выбрать картинку - СформироватьОтчет - отображение - Картинка и текст - перетаскиваем СформироватьОтчет из реквизитов в командную панель - форма - использование - положение командной панели - авто - ФормаСформироватьОтчет - основные - +КнопкаПоУмолчанию<br>- Конфигурация - Отчеты - ОстаткиТоваров_Вариант1 - Макеты - Добавить - Остатки - тип макета - табличный документ - Склад, Товар, Количество остаток - Склад, Товар, КоличествоОстаток - свойства - Склад, Товар, КоличествоОстаток - макет - Заполнение - Параметр - Выделим первые три строки и макета с полями Склад, Товар, Количество остаток - Таблица - имена - назначить имя - ШапкаТаблицы - Выделим четвертую строку макета с полями Склад, Товар, КоличествоОстаток - Таблица - имена - назначить имя - СтрокаТаблицы<br>- Конфигурация - Отчеты - ОстаткиТоваров_Вариант1 - Подсистемы - Продажи - Конфигурация - Отчеты - ОстаткиТоваров_Вариант1 - ФормаОтчета - поле - Сформировать отчет - действия команды - Создать на клиенте и на сервере<br>- Выполнить - продажи - остатки товаров вариант1 - сформировать<br><strong>Task:</strong><br>Добавить в отчете поля для выбора даты, чтоб на указанную дату рассчитывался остаток<br># Разработка СКД.<br><strong>Decision:</strong><br>- Конфигурация - Отчеты - ОстаткиТоваров_Вариант1 - данные - добавить реквизит - ДатаОстатков - тип - дата - форма отчета - перетаскиваем ДатаОстаков из реквизита в форму - Открыть модуль объекта - конструктор запроса - таблицы и поля - таблицы - параметры вирутальной таблицы - период - &ДатаОстатков - таблицы и поля - поля - ТоварныеЗапасыОстатки Склад - изменить текущий элемент - функции языка запросов - функции - прочие запросы - ПредставлениеССылки<br>- Выполнить - продажи - остатки товаров вариант1 - выбрать дату - сформировать<br><strong>Task:</strong><br>Создание отчета - Система компоновки данных (СКД)<br>Нужно создать отчет, используя СКД, остатки товаров, который должен показывать остатки номенклатуры в разрезе в виде таблицы с группировкой по складам<br># Разработка СКД.<br><strong>Decision:</strong><br>- Конфигурация - Отчеты - добавить - ОстаткиТоваров_Вариант2 - подсистемы - продажи - основные - открыть схему компоновки данных - Добавить набор данных - запрос - конструктор запроса - РегистрыНакопления - ТоварыеЗапасыОстатки&gt; - Склад, товар, КоличествоОстаток&gt;<br>ВЫБРАТЬ<br>  ТоварныеЗапасыОстатки.Склад КАК Склад,<br>  ТоварныеЗапасыОстатки.Товар КАК Товар,<br>  ТоварныеЗапасыОстатки.КоличествоОстаток КАК КоличествоОстаток<br>ИЗ<br>  РегистрНакопления.ТоварныеЗапасы.Остатки КАК ТоварныеЗапасыОстатки<br>  Настройки - открыть конструктор запроса - Список - Склад, Товар, КоличествоОстаток&gt; - выполнить - продажи - остатки товаров вариант2<br><strong>Task:</strong><br>Пользователю нужно указать период<br># Разработка СКД.<br><strong>Decision:</strong><br>- Еще - Изменить вариант - Параметры - Период - свойства элемента пользовательских настроек - включать в пользовательские настройки - режим редактирования - быстрый доступ<br><strong>Task:</strong><br>Консоль отчетов<br># Разработка Отчеты.<br><strong>Decision:</strong><br>- Конфигуратор - сервис - параметры - запуск 1с - +Толстый клиент - Выполнить - файл - открыть - управляемая консоль отчетов - добавить - схему компоновки данных - конструктор - добавить набор данных запрос - конструктор запросов - товарныеЗапросыОстатки&gt;&gt; - ok - Настройки - открыть конструктор запросов - количествоОстаток&gt;&gt; - ок - выполнить - конструктор - сохранить схему в файл<br><strong>Task:</strong><br>Ресурсы (Поля итога)<br>В отчете "Остатки товаров" нужно наастроит расчет итогов по количеству<br># Разработка Отчеты.<br><strong>Decision:</strong><br>- Добавить схему компоновки данных - конструктор - добавить набор данных запрос - конструктор запроса - регистрыНакопления - товарныеЗапасыОстатки&gt;&gt;-ок-настройки-количествоОстаток&gt;&gt;- ok - выполнить - конструктор - ресурсы - количествоОстаток&gt; - ок - выполнить<br><strong>Task:</strong><br>Поменяем структуру отчета<br># Разработка Отчеты.<br><strong>Decision:</strong><br>- конструктор - настройки - добавить новую группировку - Склад - детальный записи перетаскимваем в Склад - ок - выполнить<br><strong>Task:</strong><br>Разработать отчет, который будет показывать информацию о продажах за период, период будет выбирать пользователь<br># Разработка Отчеты.<br><strong>Decision:</strong><br>- Добавить схему компоновки данных - конструктор - добавить набор данных запрос - конструктор запроса - регистрыНакопление-ПродажиОбороты&gt;-покупатель, товар, количествоОборот, суммаОборот&gt; - ресурсы - количествоОборот, суммаОборот&gt; - настройки - открыть конструтор запроса - список - КоличествоОборот&gt;&gt; - ок - выполнить - конструктор запроса - сохранить схему - конфигуратор - Отчеты - Создать - ПродажиТоваров_СКД - подсисема Продажи+ - основные - открыть схему компоновки данных - загрузитьсхему из файла - f5 - продажи - Продажи Товаров СКД - сформировать<br><strong>Task:</strong><br>Нужно сделать так, чтобы пользователь мог работать с периодом<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  Отчет - ПродажиТоваров_СКД - Натсройки - Начало приода, конец периода - Свойства элементов пользовательских настроек - Включать пользовательские настройки+ - параметры - добавить - Период - тип - Стандартный период+ - Начало, конец период - ограничение доступности+ - Начало, конец период - вырожение - &Период.ДатаНачала, &Период.ДатаОкончания - Настройки - период - Свойства элементов пользовательских настроек - Включать пользовательские настройки+ -выполнить - продажи - Продажи Товаров СКД - сформировать<br><strong>Task:</strong><br>Сложные отчеты: список, таблица, диаграмма<br>Разработаем отчет, который позволит получить данные оборота по купленным товарам за выбранный пользователем период и узнать количество и сумму купленных товаров в разреезе товаров, складов, организаций и других полей приходной накладной. Создадим отчет "Отчет о закупках" и добавим новый запрос данных.<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Конфигурация-отчеты-добавить-имя,синоним:ОтчетОЗакупках-подсистемы-закупки-основные-открыть схему компоновки данных-добавить набор данных:запрос-конструктор запроса БД:документы/поступление товаров/товары,Таблицы:поступлениеТоваров-переименовать-ПрихТовары:Номенклатура/количество/сумма/ссылка-<br><strong>Task:</strong><br>Отбор и параметры в запросе<br>Пользователю можно добаться до даты, имея "Ссылку", или, поставив условие "Отбор", или часть отобров можно прописать явно в запросе. Для этого есть есть предложение "ГДЕ" в закладке "Условия". И тогда написанные нами отборы пользователь не сможет отключить.<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  -условия-прихТовары,ссылка-дата-между-Дата1-Дата2-прихТовары,ссылка-пометкаНаУдаление-флаг-выбрать-НЕ ПрихТовары.Ссылка.ПометкаУдаления-ок-Запрос-<br>ВЫБРАТЬ<br>  ПрихТовары.Номенклатура,<br>  ПрихТовары.Количество,<br>  ПрихТовары.Сумма,<br>  ПрихТовары.Ссылка<br>ИЗ<br>  Документ.ПоступлениеТоваров.Товары КАК ПрихТовары<br>ГДЕ<br>  НЕ ПрихТовары.Ссылка.ПометкаУдаления<br>  И ПрихТовары.Ссылка.Дата МЕЖДУ &Дата1 И &Дата2<br>  -ок-поля:ссылка-флажок-(переименовать)Документ-<br><strong>Task:</strong><br>Ресурсы запроса<br>Пользователь в отчете наверняка захочет увидет не только все строки всех документов, но и подвести итоги по товару, контрагенту, и другим полям, сколько всего было куплено товаров данного типа. Запрос должен просуммировать поля "количество" и "сумма".<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  -ресурсы-количество,сумма-количество,рассчитывать по-номенклатура-ок-сумма,рассчитывать по - количеству-ок-<br><strong>Task:</strong><br>Параметры компоновки<br>Воспользуемся механизмом стандартного выбора периода, который позволяет осуществлять выбор из списка со стандартными периодами. Для этого добавим новый параметр "период".<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  -Параметры-Добавить-Имя:Пеиод-тип:СтандартныйПериод-<br><strong>Task:</strong><br>Вариант отчета "список"<br>Настроим несколько вариантов отчета для нашего пользователя.<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  -Настройка-Открыть конструктор настроек-список-Номенклатура &gt;, Количество &gt;, Сумма &gt; - Номенклатура &gt; -<br><strong>Task:</strong><br>Установим период отчета по умолчанию<br># Разработка Отчеты.<br><strong>Decision:</strong><br>-Настройка-параметры-Флажок на период-Дата окончания: этот год-Другие настройки-Заголовок:Ведомость закупок-отчет-свойства элемента пользовательских настроек-Флажок:выбранные поля,отбор,порядок (обычный),условное оформление (обычный),группировка-Параметры-свойства элемента пользовательских настроек-флажок:включать в пользовательские настройки-ок-<br><strong>Task:</strong><br>Связанные поля<br>Получить отчет пользователю о закупках с отбором по одной организации<br># Разработка Отчеты.<br><strong>Decision:</strong><br>в свойстве отбор - найти там документ (ссылка) - найти орагнанизацию - на нее поставить отбор.<br><strong>Task:</strong><br>Но можно это сделать за пользователя, чтобы все поля, которые ему нужны будут, были видны на вернем углу списка доступных полей.<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  конфигурация-отчетОЗакупках-схема компоновка даных-набор данных-конструктор запроса-таблицы:организация &gt;,контрагент &gt;,Склад &gt;-В наборе данных-поле-переименуем добавленные нами заголовки-флагСклад:Ссылка.Склад,Организация,Контрагент-<br><strong>Task:</strong><br>Ограничение поля<br>Запретим пользователю залезать внутрь документа ссылки, т.е. убрать плюсик слева от поля "Документ", когда пользователь работает с отбором<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  -Ссылка документ:условие:флаг-<br><strong>Task:</strong><br>Кросс-таблица<br>Теперь когда появились поля Контрагент, организация, склад сделаем отчет типа таблица. Нам нужно изменить только вкладку настройки схемы компоновки данных. Чтобы сэкономить время скопируем наш вариант отчета<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  -настройки-копируем вариант отчета и переименуем: Шахматка-удаляем группировку номенклатура-добавить новую таблицу-Таблица--Строки-номенклатура-колонки-контрагент-выбранные поля-оставим только сумму-другие настройки-заголовок:Шахматка закупок-отчет-свойства элемента пользовательских настроек-везде поставим галочку кроме группировки, а в режиме редактирования поставим обычный у порядка и условного оформления- в таблице-свойства элемента пользовательских настроек-поставим галочки только в группировки строк и колонок<br><strong>Task:</strong><br>Функции языка запросов<br>Сгруппируем наш отчет о закупках, который мы по умолчанию формируем за 1 год, помесячно<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Для этого нужно довить в текст запроса поле, которое идентифицирует месяц, к которому принадлежит дата документа.<br>НАЧАЛАПЕРИОДА- функция, которая, получив от нас дату документа и название периода "месяц", сможет рассчитать дату начала месяца.<br>  конфигуратор-отчет о закупках-сехма компоновки данных-конструктор запросов-поля-добавить-функция,функция работы с датами, НАЧАЛОПЕРИОДА(Тащим вниз)-(Заместо дата)поле,все поля,прихтовары,ссылка,дата(Тащим вниз)-(Заместо период)функция,функция работы с датами,Месяц(Тащим вниз)-объединения и псевдонимы-назовем:периодМесяц-ок-набор данных-ПериодМесяц-оформление-формат поля-формат-конструктор фоматной строки-дата-формат даты(флаг)-ММММ.гггг-<br>Также если надо не помесячно указать в отчете, а по квартально, тогда нужно в формате данных указать - к "кв." гггг "г."<br><strong>Task:</strong><br>Диаграмма<br>Управленцам создадим графический вариант отображения данных.<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  конфигуратор-отчет о закупках-сехма компоновки данных-настройки-Скопироуем вариант с Шахматки и назовем его Диаграмма-Удаляем "таблица" полностью-вместо нее добавляем "Диаграмма"-точки:ПериодМесяц-Серии:номенклатура-диаграмма-свойства элемента пользовательских настроек-флажок:Группировки серий, Группировки точек-ок-другие настройки-Заголовок:диаграмма закупок<br><strong>Task:</strong><br>Внешние отчеты<br>Можно с самого начала разрабатывать отчет не как новую ветку в дереве объектов конфигурации<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  конфигуратор-файл-новый-внешний отчет-имя:НовыйВнешнийОтчет-файл-сохранить как-1c-Forus-NewExternalReport.erf<br><strong>Task:</strong><br>открыть для изменения этот отчет<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  конфигуратор-файл-открыть-1c-Forus-NewExternalReport.erf<br><strong>Task:</strong><br>Программноe выполнение запроса<br>В модуле формы документа "Поступление товаров" описан механизм получения цены из элементасправочника Номенклатура. Для этого использовалась объектная модель и обращение через точку к реквизиту выбранного элемента справочника номенклатуры.<br>В функции была одна трока кода и возврат результата:<br>&НаСервере<br>Функция ПолучитьЦену(Товар)<br>  Возврат Товар.Цена;<br>КонецФункции<br>Но можно сделать это и запросом, чтобы оптимизировать получение данных. Перепишем функцию так, чтобы она получала данные запросом.<br>Изменим функцию получитьЦену, удалим строе ее содержимое и напишем алгоритм получения цены с сервра по новому.<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  пр.кн.мыши-конструторзапроса с обработкой результата-обход результата-таблицы и поля,справочники,номенклатура&gt;цена&gt;-Условия,поля,номенклатура,ссылка-перетаскиваем в правое поле-запрос-<br>ВЫБРАТЬ<br>  Номенклатура.Цена<br>ИЗ<br>  Справочник.Номенклатура КАК Номенклатура<br>ГДЕ<br>  Номенклатура.Ссылка = &Ссылка<br>  -ок<br><strong>Decision:</strong><br>&НаКлиенте<br>Процедура ТоварыЦенаПриИзменении(Элемент)<br>  Стр=Элементы.Товары.ТекущиеДанные;<br>  РасчетСтроки(Стр);<br>  //Стр=Элементы.Товары.ТекущиеДанные;<br>  //ПроцедурыДокументов.РассчетСтроки(Стр);<br>КонецПроцедуры<br>&НаКлиенте<br>Процедура ТоварыКоличествоПриИзменении(Элемент)<br>  Стр=Элементы.Товары.ТекущиеДанные;<br>  РасчетСтроки(Стр);<br>  //Стр=Элементы.Товары.Стр;<br>  //ПроцедурыДокументов.РассчетСтроки(Стр);<br>КонецПроцедуры<br>&НаКлиенте<br>Процедура РасчетСтроки(ТекСтр)<br>  ТекСтр.Сумма=ТекСтр.Цена*ТекСтр.Количество;<br>КонецПроцедуры<br>&НаКлиенте<br>Процедура ТоварыСуммаПриИзменении(Элемент)<br>  Стр=Элементы.Товары.ТекущиеДанные;<br>  Если Стр.Количество = 0 Тогда<br>&nbsp;&nbsp;Сообщить("Ошибка");<br>  Иначе<br>&nbsp;&nbsp;Стр.Цена=Стр.Сумма/Стр.Количество;<br>  КонецЕсли<br>КонецПроцедуры<br>&НаКлиенте<br>Процедура ТоварыНоменклатураПриИзменении(Элемент)<br>  Стр=Элементы.Товары.ТекущиеДанные;<br>  Стр.Цена=ПолучитьЦену(Стр.Номенклатура);<br>  РасчетСтроки(Стр);<br>КонецПроцедуры<br>&НаСервереБезКонтекста<br>Функция ПолучитьЦену(Товар)<br>  //Возврат Товар.Цена;  //{{КОНСТРУКТОР_ЗАПРОСА_С_ОБРАБОТКОЙ_РЕЗУЛЬТАТА<br>  // Данный фрагмент построен конструктором.<br>  // При повторном использовании конструктора, внесенные вручную изменения будут утеряны!!!&nbsp;&nbsp;<br>  Запрос = Новый Запрос;<br>  Запрос.Текст =<br>&nbsp;&nbsp;"ВЫБРАТЬ<br>&nbsp;&nbsp;|  Номенклатура.Цена<br>&nbsp;&nbsp;|ИЗ<br>&nbsp;&nbsp;|  Справочник.Номенклатура КАК Номенклатура<br>&nbsp;&nbsp;|ГДЕ<br>&nbsp;&nbsp;|  Номенклатура.Ссылка = &Ссылка";&nbsp;&nbsp;  <br>  Запрос.УстановитьПараметр("Ссылка", Ссылка);&nbsp;&nbsp;  <br>  РезультатЗапроса = Запрос.Выполнить();&nbsp;&nbsp;&nbsp;&nbsp;<br>  ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать();&nbsp;&nbsp;<br>  Пока ВыборкаДетальныеЗаписи.Следующий() Цикл<br>&nbsp;&nbsp;// Вставить обработку выборки ВыборкаДетальныеЗаписи<br>  КонецЦикла;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>  //}}КОНСТРУКТОР_ЗАПРОСА_С_ОБРАБОТКОЙ_РЕЗУЛЬТАТА<br>КонецФункции<br><strong>Task:</strong><br>Способы чтения данных из базы<br>прочитать какую то информацию из базы, например, товары используя метод объект<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Файл-&gt;Внешняя обработка-&gt;Имя:СпособыЧтенияДанных-&gt;Форма обработки-&gt;Команды-&gt;Добавить-&gt;ОбъектнаяМодель,ТабличнаяМодель-&gt;Перетаскиваем команды в командную панель-&gt;ОбхектнаяМодель-&gt;ДействияКоманды-&gt;На клиенте и на сервере<br>&НаКлиенте<br>Процедура ОбъектнаяМодель(Команда)<br>  ОбъектнаяМодельНаСервере();<br>КонецПроцедуры<br>&НаСервере<br>Процедура ОбъектнаяМодельНаСервере()<br>  Выборка=Справочники.ТоварныеКатегории.Выбрать();<br>  Пока Выборка.Следующий() Цикл<br>&nbsp;&nbsp;Сообщение=Новый СообщениеПользователю;<br>&nbsp;&nbsp;Сообщение.Текст=Выборка.Наименование;<br>&nbsp;&nbsp;Сообщение.Сообщить();<br>  КонецЦикла;<br>КонецПроцедуры<br>Output:<br>Объектная модель<br>  Женская обувь<br>  Кабели<br>  Кондиционеры<br>  Крупы<br>  Масло<br>  Мебель<br>  Мебель (наборы)<br>  Мебель (сборка)<br>  Молоко<br>  Мужская обувь<br>  Соки<br>  Спортивная обувь<br>  Телевизоры<br>  Хлебобулочные изделия<br>  Холодильники<br>  Электротовары<br>  Объектная модель доступа к данным. Ограничения.(1)<br><strong>Task:</strong><br>Если мы хотим поменять номенклатуру<br># Разработка Отчеты.<br><strong>Decision:</strong><br>...<br>Процедура ОбъектнаяМодельНаСервере()<br>  Выборка=Справочники.ТоварныеКатегории.Выбрать();<br>  Пока Выборка.Следующий() Цикл<br>&nbsp;&nbsp;ТоварОбъект=Выборка.ПолучитьОбъект();<br>&nbsp;&nbsp;ТоварОбъект.Артикул="21414";<br>&nbsp;&nbsp;ТоварОбъект.Записать();<br>&nbsp;&nbsp;Сообщение=Новый СообщениеПользователю;<br>&nbsp;&nbsp;Сообщение.Текст=Выборка.Наименование;<br>&nbsp;&nbsp;Сообщение.Сообщить();<br>  КонецЦикла;<br>КонецПроцедуры<br><strong>Task:</strong><br>Получить данные из двух таблиц<br># Написание Sql запросов.<br><strong>Decision:</strong><br>...<br>  Выборка=Справочники.ТоварныеКатегории.Выбрать();<br>  ВыборкаЦены=РегистрыСведений.ЦеныНоменклатуры.Выбрать();<br>  Пока Выборка.Следующий() Цикл<br>...<br><strong>Task:</strong><br>Попробуем прочитать из таблицы заказов по одному покупателю<br># Разработка Отчеты.<br><strong>Decision:</strong><br>&nbsp;&nbsp;...<br>  КонецЦикла;  <br>  Покупатель=Справочники.Контрагенты.НайтиПоНаименованию("Саймон и Шустер");<br>  Отбор=Новый Структура("Партнер", Покупатель);<br>  ВыборкаЗаказы=Документы.ЗаказКлиента.Выбрать(,,Отбор);<br>КонецПроцедуры<br><strong>Task:</strong><br>Вывести информацию с помощью табличной модели<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  Табличная модель-&gt;Выполнить действия-&gt;Клиент,Сервер-&gt;Конструктор запроса-&gt;Таблицы и поля-&gt;Справочник-&gt;Товарные категории&gt; -&gt; Наименование&gt;<br>&НаКлиенте<br>Процедура ТабличнаяМодель(Команда)<br>  ТабличнаяМодельНаСервере();<br>КонецПроцедуры<br>&НаСервере<br>Процедура ТабличнаяМодельНаСервере()<br>  //{{КОНСТРУКТОР_ЗАПРОСА_С_ОБРАБОТКОЙ_РЕЗУЛЬТАТА<br>  // This fragment was built by the wizard.<br>  // Warning! All manually made changes will be lost next time you use the wizard.<br>  Запрос = Новый Запрос;<br>  Запрос.Текст =<br>&nbsp;&nbsp;"ВЫБРАТЬ<br>&nbsp;&nbsp;| ТоварныеКатегории.Наименование КАК Наименование<br>&nbsp;&nbsp;|ИЗ<br>&nbsp;&nbsp;| Справочник.ТоварныеКатегории КАК ТоварныеКатегории";<br>  РезультатЗапроса = Запрос.Выполнить();<br>  ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать();<br>  Пока ВыборкаДетальныеЗаписи.Следующий() Цикл<br>&nbsp;&nbsp;// Insert selected data processing ВыборкаДетальныеЗаписи<br>&nbsp;&nbsp;Сообщение=Новый СообщениеПользователю;<br>&nbsp;&nbsp;Сообщение.Текст=ВыборкаДетальныеЗаписи.Наименование;<br>&nbsp;&nbsp;Сообщение.Сообщить();<br>  КонецЦикла;<br>  //}}КОНСТРУКТОР_ЗАПРОСА_С_ОБРАБОТКОЙ_РЕЗУЛЬТАТА<br>КонецПроцедуры<br>Output:<br>Табличная модель<br>  Молоко<br>  Масло<br>  Крупы<br>  Хлебобулочные изделия<br>  Соки<br>  Женская обувь<br>  Мужская обувь<br>  Спортивная обувь<br>  Кондиционеры<br>  Кабели<br>  Мебель (сборка)<br>  Мебель (наборы)<br>  Телевизоры<br>  Холодильники<br>  Электротовары<br>  Мебель<br><strong>Task:</strong><br>Консоль запросов<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  1с предприятие-&gt;Файл-&gt;Открыть-&gt;УправляемаяКонсольОтчетов 3.8.9-&gt;Текст запроса<br>ВЫБРАТЬ * ИЗ Справочник.ТоварныеКатегории<br>  Выполнить<br><strong>Task:</strong><br>Конструктор запросов<br>Из справочника ТоварныеКатегории выбрать все наименования товаров<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Конструктор-&gt;База данных-&gt;Справочники-&gt;ТоварныеКатегории&gt;-&gt;Таблицы-&gt;Наименование&gt;-&gt;Ок-&gt;Выполнить<br>Простые запросы<br><strong>Task:</strong><br>Самый простой запрос: константные значения в запросе<br># Разработка Отчеты.<br><strong>Decision:</strong><br>ВЫБРАТЬ<br>5 КАК ПростоеЧисло,<br>"строка" КАК ПростаяСтрока<br><strong>Decision:</strong><br>  Конструктор-&gt;Поле-&gt;Добавить-&gt;5,"строка"-&gt;Объединение Псевдонимы-&gt;Поле1,Поле2-&gt;ПростоеЧисло,ПростаяСтрока-&gt;Ок-&gt;Выполнить<br>Output:<br>  ПростоеЧисло  ПростаяСтрока<br>  5&nbsp;&nbsp;   строка<br><strong>Task:</strong><br>Как прочитать значение константы<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  Добавить запрос-&gt;Запрос к константе-&gt;Конструктор-&gt;База данных-&gt;Константы-&gt;ВалютаУпрвленческогоУчета&gt;-&gt;Таблицы-&gt;Значение&gt;-&gt;ок-&gt;Выполнить<br><strong>Decision:</strong><br>  Значение<br>  USD<br><strong>Task:</strong><br>Как прочитать данные из справочников<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  Добавить запрос-&gt;Запрос к справочнику-&gt;Конструктор-&gt;База данных-&gt;Справочник-&gt;Контрагенты&gt;-&gt;Наименование, КодПоОКПО,СтранаРегистрации&gt;-&gt;ок-&gt;Выполнить<br><strong>Task:</strong><br>Как прочитать данные из документов<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  Добавить запрос-&gt;Запрос к документу-&gt;Конструктор-&gt;База данных-&gt;Документ-&gt;ЗаказКлиента&gt;-&gt;Номер, Дата, Партнер, Склад, Валюта, Автор, СуммаДокумента&gt;-&gt;ок-&gt;Выполнить<br><strong>Task:</strong><br>Как прочитать данные из табличных частей<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Добавить запрос-&gt;Запрос к табличной части-&gt;Конструктор-&gt;База данных-&gt;ЗаказКлиентаТовары&gt;-&gt;НомерСтроки, Номенклатура, Цена, Количество, Сумма&gt;-&gt;ок-&gt;Выполнить<br><strong>Task:</strong><br>Разыменование полей в запросе<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Добавить запрос-&gt;Запрос к табличной части (разыменование)-&gt;Конструктор-&gt;База данных-&gt;ЗаказКлиентаТовары&gt;-&gt;Таблицы-&gt;НомерСтроки, Номенклатура, Цена, Количество, Сумма&gt;-&gt;Таблицы-&gt;Ссылка-&gt;Контрагент&gt;-&gt;ок-&gt;Выполнить<br>Фильтр в запросе<br><strong>Task:</strong><br>Найти контрагента по наименованию<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Добавить запрос-&gt;Условие в запросе-&gt;Конструктор-&gt;База данных-&gt;Контрагенты&gt;-&gt;Ссылка, Наименование, КодПоОКПО&gt;-&gt;Условие-&gt;Поля-&gt;Наименование&gt;-&gt;ок-&gt;Параметры-&gt;Значение-&gt;Бакалея-&gt;Выполнить<br><strong>Task:</strong><br>Выбрать из справочника «Товары» только элементы (без групп)<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Добавить запрос-&gt;Товары без групп-&gt;Конструктор-&gt;База данных-&gt;Справочники-&gt;ТоварныеКатегории&gt;-&gt;Наименование, ЭтоГруппа,Владелец-&gt;Условие-&gt;Поля-&gt;ЭтоГруппа&gt;-&gt;ок-&gt;Параметры-&gt;Значение-&gt;Да-&gt;Выполнить<br><strong>Task:</strong><br>Найти товар по наименованию,по точному соответствию, по неточному соответствию<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Добавить запрос-&gt;Запрос по наименованию (точное соответствие)-&gt;Конструктор-&gt;База данных-&gt;Справочник&gt;-&gt;ТоварныеКатегории-&gt;Наименование,Владелец&gt;Условие-&gt;Условие-&gt;Поля-&gt;ТоварныеКатегории-&gt;Наименование&gt;-&gt;ок-&gt;Параметры-&gt;Значение-&gt;Молоко-&gt;Выполнить<br><strong>Decision:</strong><br>Добавить запрос-&gt;Запрос по наименованию (не точное соответствие)-&gt;Конструктор-&gt;База данных-&gt;Справочник&gt;-&gt;ТоварныеКатегории-&gt;Наименование,Владелец&gt;Условие-&gt;Условие-&gt;Поля-&gt;ТоварныеКатегории-&gt;Наименование&gt;-&gt;ТоварныеКатегории.Наименование ПОДОБНО &Наименование-&gt;ок-&gt;Параметры-&gt;Значение-&gt;%Мебель%-&gt;Выполнить<br><strong>Task:</strong><br>Выбрать товар из группы «Электротовары» не включая/включая вложенные группы<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Добавить запрос-&gt;Выбор товаров из группы-&gt;Конструктор-&gt;База данных-&gt;Справочник&gt;-&gt;ТоварныеКатегории-&gt;Наименование,Владелец&gt;Условие-&gt;Условие-&gt;Поля-&gt;ТоварныеКатегории-&gt;Родитель&gt;-&gt;ок-&gt;Параметры-&gt;Значение-&gt;Электротовары-&gt;Выполнить<br><strong>Task:</strong><br>Найти товары, для которых не заполнен реквизит кода<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Добавить запрос-&gt;Поиск товаров без кода-&gt;Конструктор запроса-&gt;База данных-&gt;Справочник&gt;-&gt;ТоварныеКатегории-&gt;Наименование,код&gt;Условие-&gt;Поля-&gt;ТоварныеКатегории-&gt;код&gt;-&gt;ТоварныеКатегории.Владелец.КодОКВЭД = ""-&gt;ок-&gt;Выполнить<br><strong>Task:</strong><br>Найти товары, для которых заполнен реквизит код<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Копировать запрос-&gt;переименовать-&gt;Поиск товаров с кодом&gt;Конструктор запроса-&gt;Условие-&gt;ТоварныеКатегории.Владелец.КодОКВЭД &lt;&gt; ""-&gt;ok-&gt;Выполнить<br>Группировка<br><strong>Task:</strong><br>Выбирать данные из всех заказов<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Добавить запрос-&gt;Все товары из заказов-&gt;Конструктор запроса-&gt;База данных-&gt;Документы&gt;-&gt;ЗаказКлиента-&gt;Товары&gt;Количество,Сумма,Номенклатура,Цена&gt;ок-&gt;Выполнить<br><strong>Decision:</strong><br>ВЫБРАТЬ<br>  ЗаказКлиентаТовары.Количество КАК Количество,<br>  ЗаказКлиентаТовары.Сумма КАК Сумма,<br>  ЗаказКлиентаТовары.Номенклатура КАК Номенклатура,<br>  ЗаказКлиентаТовары.Цена КАК Цена<br>ИЗ<br>  Документ.ЗаказКлиента.Товары КАК ЗаказКлиентаТовары<br><strong>Task:</strong><br>Нужно сделать так, чтобы по каждому товару была только одна запись. То есть мы хотим получить общим общий объем количества товаров и сумму и минимальную цену<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Конструктор запроса-&gt;Группировка-&gt;Номенклатура&gt;Поле группировки-&gt;Количество,Сумма,Цена&gt;Суммарные поля-&gt;Цена-&gt;Минимум-&gt;ок-&gt;Выполнить<br><strong>Decision:</strong><br>ВЫБРАТЬ<br>  СУММА(ЗаказКлиентаТовары.Количество) КАК Количество,<br>  СУММА(ЗаказКлиентаТовары.Сумма) КАК Сумма,<br>  ЗаказКлиентаТовары.Номенклатура КАК Номенклатура,<br>  МИНИМУМ(ЗаказКлиентаТовары.Цена) КАК Цена<br>ИЗ<br>  Документ.ЗаказКлиента.Товары КАК ЗаказКлиентаТовары<br>СГРУППИРОВАТЬ ПО<br>  ЗаказКлиентаТовары.Номенклатура<br><strong>Task:</strong><br>Получить сводную информацию о продажах товаров за период по данным документов «РасходныйОрдерНаТовары»<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Добавить запрос-&gt;Продажа по документам-&gt;Конструктор запроса-&gt;База данных-&gt;Документы-&gt;РасходныйОрдерНаТовары-&gt;ТоварыПоРаспоряжениям&gt;-&gt;Номенклатура,Количество&gt;-&gt;ок-&gt;Выполнить<br><strong>Decision:</strong><br>ВЫБРАТЬ<br>  РасходныйОрдерНаТоварыТоварыПоРаспоряжениям.Количество КАК Количество,<br>  РасходныйОрдерНаТоварыТоварыПоРаспоряжениям.Номенклатура КАК Номенклатура<br>ИЗ<br>  Документ.РасходныйОрдерНаТовары.ТоварыПоРаспоряжениям КАК РасходныйОрдерНаТоварыТоварыПоРаспоряжениям<br><strong>Decision:</strong><br>Конструктор запроса-&gt;Группировка-&gt;Номенклатура&gt;Поле группировки-&gt;Количество&gt;Суммарные поля-&gt;ок-&gt;Выполнить<br><strong>Decision:</strong><br>ВЫБРАТЬ<br>  СУММА(РасходныйОрдерНаТоварыТоварыПоРаспоряжениям.Количество) КАК Количество,<br>  РасходныйОрдерНаТоварыТоварыПоРаспоряжениям.Номенклатура КАК Номенклатура<br>ИЗ<br>  Документ.РасходныйОрдерНаТовары.ТоварыПоРаспоряжениям КАК РасходныйОрдерНаТоварыТоварыПоРаспоряжениям<br>СГРУППИРОВАТЬ ПО<br>  РасходныйОрдерНаТоварыТоварыПоРаспоряжениям.Номенклатура<br><strong>Task:</strong><br>Получить количество продаж в разрезе покупателей<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Добавить запрос-&gt;Количество продаж по контрагентам-&gt;Конструктор запроса-&gt;РасходныйОрдерНаТовары&gt;-&gt;Получатель,Ссылка&gt;-&gt;<br><strong>Decision:</strong><br>ВЫБРАТЬ<br>  РасходныйОрдерНаТовары.Ссылка КАК Ссылка,<br>  РасходныйОрдерНаТовары.Получатель КАК Получатель<br>ИЗ<br>  Документ.РасходныйОрдерНаТовары КАК РасходныйОрдерНаТовары<br><strong>Decision:</strong><br>Конструктор запроса-&gt;Группировка-&gt;Получатель&gt;Поле группировки-&gt;Ссылка&gt;Суммарные поля-&gt;ок-&gt;Выполнить<br><strong>Decision:</strong><br>ВЫБРАТЬ<br>  КОЛИЧЕСТВО(РАЗЛИЧНЫЕ РасходныйОрдерНаТовары.Ссылка) КАК Ссылка,<br>  РасходныйОрдерНаТовары.Получатель КАК Получатель<br>ИЗ<br>  Документ.РасходныйОрдерНаТовары КАК РасходныйОрдерНаТовары<br>СГРУППИРОВАТЬ ПО<br>  РасходныйОрдерНаТовары.Получатель<br><strong>Task:</strong><br>По каждому товару определить максимальное количество единиц, которое продавалось за одну продажу<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Добавить запрос-&gt;Максимальное количество за одну продажу-&gt;Конструктор запроса-&gt;База данных-&gt;Документы-&gt;РасходныйОрдерНаТовары-&gt;ТоварыПоРаспоряжениям&gt;-&gt;Номенклатура,Количество&gt;-&gt;Группировка-&gt;Номенклатура&gt;Поле группировки-&gt;Количество&gt;Суммарные поля-&gt;Максимум-&gt;ок-&gt;Выполнить<br><strong>Decision:</strong><br>ВЫБРАТЬ<br>  РасходныйОрдерНаТоварыТоварыПоРаспоряжениям.Номенклатура КАК Номенклатура,<br>  МИНИМУМ(РасходныйОрдерНаТоварыТоварыПоРаспоряжениям.Количество) КАК Количество<br>ИЗ<br>  Документ.РасходныйОрдерНаТовары.ТоварыПоРаспоряжениям КАК РасходныйОрдерНаТоварыТоварыПоРаспоряжениям<br>СГРУППИРОВАТЬ ПО<br>  РасходныйОрдерНаТоварыТоварыПоРаспоряжениям.Номенклатура<br><strong>Task:</strong><br>Получить среднюю сумму продаж по дням за период<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Добавить запрос-&gt;Продажи по документам (сумма)-&gt;Конструктор запроса-&gt;База данных-&gt;Документы-&gt;ЗаказКлиента&gt;-&gt;Дата,СуммаДокумента&gt;-&gt;Группировка-&gt;Дата&gt;Поле группировки-&gt;СуммаДокумента&gt;Суммарные поля-&gt;Среднее-&gt;Таблицы и поля-&gt;Поле-&gt;Дата-&gt;Редактировать-&gt;Функция языка запросов-&gt;Функции-&gt;Функции работы с датами-&gt;Начало периода-&gt;Перетащить его в нижнее поле-&gt;НАЧАЛОПЕРИОДА(ЗаказКлиента.Дата, ДЕНЬ)-&gt;ок-&gt;Выполнить<br><strong>Decision:</strong><br>ВЫБРАТЬ<br>  НАЧАЛОПЕРИОДА(ЗаказКлиента.Дата, ДЕНЬ) КАК Дата,<br>  ЗаказКлиента.СуммаДокумента КАК СуммаДокумента<br>ИЗ<br>  Документ.ЗаказКлиента КАК ЗаказКлиента<br><strong>Task:</strong><br>Выбрать все документы «Приход товара» в порядке убывания даты<br># Разработка Сортировка данных.<br><strong>Decision:</strong><br>Добавить запрос-&gt;Приходы по убыванию-&gt;Конструктор запроса-&gt;База данных-&gt;Документы-&gt;ПриходныйОрдерНаТовары&gt;-&gt;Дата,Номер,Склад&gt;-&gt;Порядок-&gt;Дата-&gt;По убыванию-&gt;ок-&gt;Выполнить<br><strong>Decision:</strong><br>ВЫБРАТЬ<br>  ПриходныйОрдерНаТовары.Дата КАК Дата,<br>  ПриходныйОрдерНаТовары.Склад КАК Склад,<br>  ПриходныйОрдерНаТовары.Номер КАК Номер<br>ИЗ<br>  Документ.ПриходныйОрдерНаТовары КАК ПриходныйОрдерНаТовары<br>УПОРЯДОЧИТЬ ПО<br>  Дата УБЫВ<br><strong>Task:</strong><br>Определить дату последнего поступления конкретного товара<br># Разработка Сортировка данных.<br><strong>Decision:</strong><br>Добавить запрос-&gt;дата последнего поступления товара-&gt;Конструктор запроса-&gt;База данных-&gt;Документы-&gt;ПриходныйОрдерНаТовары-&gt;Товары&gt;-&gt;Номенклатура,Ссылка,Дата-&gt;Порядок-&gt;Дата-&gt;По убыванию-&gt;Дополнительно-&gt;Выборка записей-&gt;перерыв-&gt;1-&gt;ок-&gt;Выполнить<br><strong>Decision:</strong><br>ВЫБРАТЬ ПЕРВЫЕ 1<br>  ПриходныйОрдерНаТоварыТовары.Номенклатура КАК Номенклатура,<br>  ПриходныйОрдерНаТоварыТовары.Ссылка.Дата КАК Дата,<br>  ПриходныйОрдерНаТоварыТовары.Ссылка.Ссылка КАК Ссылка<br>ИЗ<br>  Документ.ПриходныйОрдерНаТовары.Товары КАК ПриходныйОрдерНаТоварыТовары<br><strong>Task:</strong><br>Итоги в запросе<br>Получить сводную информацию о продажах товаров за период по данным документов «Расход товара» в разрезе покупателей и заказов. По<br>каждому покупателю нужно вычислять итоговую сумму всех заказов<br># Разработка Итоги в запросе.<br><strong>Decision:</strong><br>Добавить запрос-&gt;Итоги по заказам-&gt;Конструктор запроса-&gt;База данных-&gt;Документы-&gt;ЗаказКлиента&gt;-&gt;Партнер,Ссылка,СуммаДокумента&gt;-&gt;Итоги-&gt;Партнер&gt;Группировочное поле-&gt;СуммаДокумента&gt;Итоговое поле-&gt;ок-&gt;Выполнить<br><strong>Decision:</strong><br>ВЫБРАТЬ<br>  ЗаказКлиента.Ссылка КАК Ссылка,<br>  ЗаказКлиента.СуммаДокумента КАК СуммаДокумента,<br>  ЗаказКлиента.Партнер КАК Партнер<br>ИЗ<br>  Документ.ЗаказКлиента КАК ЗаказКлиента<br>ИТОГИ<br>  СУММА(СуммаДокумента)<br>ПО<br>  Партнер<br><strong>Task:</strong><br>Получить все документы «Приход товара» в хронологическом порядке с подсчетом итогов количества документов за каждый день периода<br># Разработка Итоги в запросе.<br><strong>Decision:</strong><br>Добавить запрос-&gt;Приходы с итогами по дням-&gt;Конструктор запроса-&gt;База данных-&gt;Документы-&gt;ПриходныйОрдерНаТовары&gt;-&gt;Дата,Номер,Ссылка&gt;-&gt;Дата-&gt;редактировать-&gt;Функции языка запросов-&gt;Функции-&gt;Функции работы с датами-&gt;НАЧАЛОПЕРИОДА-&gt;перетаскиваем вниз-&gt;НАЧАЛОПЕРИОДА(ПриходныйОрдерНаТовары.Дата, ДЕНЬ)-&gt;Итоги-&gt;дата&gt;Группировочное поле-&gt;Ссылка&gt;Итоговое поле-&gt;ок-&gt;Выполнить<br><strong>Decision:</strong><br>ВЫБРАТЬ<br>  НАЧАЛОПЕРИОДА(ПриходныйОрдерНаТовары.Дата, ДЕНЬ) КАК Поле1,<br>  ПриходныйОрдерНаТовары.Номер КАК Номер,<br>  ПриходныйОрдерНаТовары.Ссылка КАК Ссылка<br>ИЗ<br>  Документ.ПриходныйОрдерНаТовары КАК ПриходныйОрдерНаТовары<br>ИТОГИ<br>  КОЛИЧЕСТВО(РАЗЛИЧНЫЕ Ссылка)<br>ПО<br>  Поле1<br><strong>Task:</strong><br>Как сформировать отчет<br>Создать отчет Остатки товаров. Пользователь должен иметь возможность выбрать дату получения остатков. Результат должен выглядеть примерно так:<br>  Остатки товаров на дату 17.02.2020<br>Номенклатура&nbsp;&nbsp; Остаток<br>Молоток&nbsp;&nbsp;&nbsp;&nbsp;7<br>Отвертка крестовая  5<br>Шуруповерт&nbsp;&nbsp;  20<br>Штукатурка&nbsp;&nbsp;  -6<br>Газонокосилка&nbsp;&nbsp; 7<br>Итого&nbsp;&nbsp;&nbsp;&nbsp;33<br># Разработка Отчеты.<br><strong>Decision:</strong><br>- регистры накопления - добавить - ОстаткиТоваров - данные - измерения - номенклатура - Ресурсы - добавить - КоличествоОстаток - документы - добавить - Номенклатура - движение - регистры накопления - +ОстаткиТоваров - Отчет - добавить - ОстатокТоваров_ФиксированныйМакет - данные - реквизиты - добавить - дата - тип - дата - формы - форма отчета - команды - добавить - Сформировать - представление - картинка - отображение - картинка и текст - сформировать - петескиваем команду в командную панель формы - форма - свойства - использование - положение командной панели - авто - кнопка по умолчанию - реквизиты - дооавить - ТабДок - тип - табличный документ - положение заголовки - нет - ок - перетаскиваем в форму - свойства - команды - сформировать - действие - на клиенте и на сервере - конструктор запроса с обработкой результата - вывод в табличный документ - таблицы и поля - регистры накопления - ОстаткиТоваров.Остатки&gt; - параметры виртуальной таблицы - период - &Дата - номенклатура, КоличествоОстатки&gt; - Итоги - количествоОстаток перетскиваем в итоговое поле - ок - модуль<br>&НаСервере<br>Процедура СформироватьНаСервере()<br>  Макет = Отчеты.ОстатокТоваров_ФиксированныйМакет.ПолучитьМакет("Макет");<br>  Запрос = Новый Запрос;<br>  Запрос.Текст =<br>&nbsp;&nbsp;"ВЫБРАТЬ<br>&nbsp;&nbsp;|  ОстаткиТоваровОстатки.Номенклатура КАК Номенклатура,<br>&nbsp;&nbsp;|  ОстаткиТоваровОстатки.КоличествоОстатокОстаток КАК КоличествоОстатокОстаток<br>&nbsp;&nbsp;|ИЗ<br>&nbsp;&nbsp;|  РегистрНакопления.ОстаткиТоваров.Остатки(&Дата, ) КАК ОстаткиТоваровОстатки";  <br>  Запрос.УстановитьПараметр("Дата", Дата);  <br>  РезультатЗапроса = Запрос.Выполнить();  <br>  ОбластьЗаголовок = Макет.ПолучитьОбласть("Заголовок");<br>  ОбластьПодвал = Макет.ПолучитьОбласть("Подвал");<br>  ОбластьШапкаТаблицы = Макет.ПолучитьОбласть("ШапкаТаблицы");<br>  ОбластьПодвалТаблицы = Макет.ПолучитьОбласть("ПодвалТаблицы");<br>  ОбластьДетальныхЗаписей = Макет.ПолучитьОбласть("Детали");  <br>  ТабДок.Очистить();<br>  ТабДок.Вывести(ОбластьЗаголовок);<br>  ТабДок.Вывести(ОбластьШапкаТаблицы);<br>  ТабДок.НачатьАвтогруппировкуСтрок();  <br>  ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать();  <br>  Пока ВыборкаДетальныеЗаписи.Следующий() Цикл<br>&nbsp;&nbsp;ОбластьДетальныхЗаписей.Параметры.Заполнить(ВыборкаДетальныеЗаписи);<br>&nbsp;&nbsp;ТабДок.Вывести(ОбластьДетальныхЗаписей, ВыборкаДетальныеЗаписи.Уровень());<br>  КонецЦикла;  <br>  ТабДок.ЗакончитьАвтогруппировкуСтрок();<br>  ТабДок.Вывести(ОбластьПодвалТаблицы);<br>  ТабДок.Вывести(ОбластьПодвал);<br>КонецПроцедуры<br>&НаКлиенте<br>Процедура Сформировать(Команда)<br>  СформироватьНаСервере();<br>КонецПроцедуры<br><strong>Task:</strong><br>Поменяем макет<br># Разработка макет.<br><strong>Decision:</strong><br>  Макет -Заголовок - ячейка - свойства - макет - заполнение - шаблон<br>  Остатки товаров на дату: [Дата]<br>  модуль<br>  ...<br>  //Запрос.УстановитьПараметр("Дата", Дата);<br>  Запрос.УстановитьПараметр("Дата", Отчет.Дата);<br>  ..<br>  ТабДок.Очистить();<br>  ОбластьЗаголовок.Параметры.Дата = Формат(Отчет.Дата, )<br>  ТабДок.Вывести(ОбластьЗаголовок);<br>  ..<br>  Конструктор форматной строки - дата - формат даты - выбираем - ок<br>  ...<br>  ТабДок.Очистить();<br>  ОбластьЗаголовок.Параметры.Дата = Формат(Отчет.Дата, "ДФ=dd.MM.yyyy");<br>  ТабДок.Вывести(ОбластьЗаголовок);<br>  ТабДок.Вывести(ОбластьШапкаТаблицы);<br>  ТабДок.НачатьАвтогруппировкуСтрок();  <br>  //ВыборкаОбщийИтог=РезультатЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);<br>  //ВыборкаОбщийИтог.Следующий();<br>  //ОбластьОбщийИтог.Параметры.Заполнить(ВыборкаОбщийИтог);  <br>  ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать();  <br>  Пока ВыборкаДетальныеЗаписи.Следующий() Цикл<br>&nbsp;&nbsp;ОбластьДетальныхЗаписей.Параметры.Заполнить(ВыборкаДетальныеЗаписи);<br>&nbsp;&nbsp;ТабДок.Вывести(ОбластьДетальныхЗаписей, ВыборкаДетальныеЗаписи.Уровень());<br>  КонецЦикла;<br>  //ТабДок.Вывести(ОбластьОбщийИтог, ВыборкаОбщийИтог.Уровень());<br>  ТабДок.ЗакончитьАвтогруппировкуСтрок();<br>  //ТабДок.Вывести(ОбластьПодвалТаблицы);<br>  //ТабДок.Вывести(ОбластьПодвал);<br>  ...<br>  запустить<br><strong>Task:</strong><br>Сделать отчет с помощью СКД<br># Разработка Отчеты.<br><strong>Decision:</strong><br>- Отчет - добавить - открыть схему компоновки данных - ок - добавить набор данных - запрос - конструктор запроса - Регистрация накопления - ОстаткиТоваров.Остатки&gt; - номенклатура, КоличествоОстаток&gt; - ок - параметры - Ресурсы - КоличествоОстатокОстаток&gt; - Настройки - открыть конструктор настроек - список - номенклатура, КоличествоОстаток&gt; - ок - параметры - период - пр.кн. - свой элемента пользвательских настроек - *Включать в пользовательские настройки - ок - запустить<br>Документ "поступление товаров"<br><strong>Task:</strong><br>Для регистрации события покупки материальных ценностей создадим документ "поступление товаров"<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  Конфигурация-документы-добавить-имя, синоним: Постпуление товаров-подсистема-закупки<br>  Данные-реквизиты:добавить-имя:организация-тип:справочникСсылка.Организация-проверка заполнения:выдать ошибки-так же с контрагентом-табличные части:добавить табличную часть-имя,синоним:товары-табличные части:добавить реквизит таблицы-имя:Номенклатура-тип:справочникСсылка.Номенклатура-проверка заполнения:выдать ошибки-табличные части:добавить реквизит таблицы-имя:Цена-тип:число-точность:2-также с количеством (точность оставить 0) и суммой<br><strong>Task:</strong><br>Копирование объектов конфигурации<br>Сделаем документ реализация товаров, скопировав и вставив объект поступление товаров.<br># Разработка Копирование объектов конфигурации.<br><strong>Decision:</strong><br>  Конфигурация-ctrl+c"поступление товаров"-ctrl+v"поступление товаров"-переименуем имя на "реализация товаров"-подсистема-Продажи<br><strong>Task:</strong><br>Выяснилось, что наше предприятие имеет несколько складов. Пjэтому нужно еще ввести список складов, который должен быть доступен из раздела "общее", при поступлении и продаже товаров нужно указывать склад, причем, при покупке товаров все товары одной накладной приходуются на один склад, то есть реквизит склад должен располагаться в "шапке" документа под контрагентом, а при продаже польователь должен иметь возможность выбора склада и в "шапке" и таблчиной части документа. т. е. если все товары продаются с одного склада, пользователь укажет склад как в приходной накладной, а если товары в разных строках продаются с разных складов, значит пользователь укажет склады в каждой строке документа.<br># Разработка Отчеты.<br><strong>Task:</strong><br>Поле ввода и удобное заполнение реквизитов<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  Конфигурация-справочники-контрагенты-поле ввода<br><strong>Task:</strong><br>Создание при вводе<br>при заполнении приходной накладной, выясняется, что это первый документ от контрагента "Крутой поставщик" и такого в справочнике еще нет.<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  Пользователь нажмет на педальку выбора из правочника, ему покажут последние, которые он выбирал, можно также создать новый<br>  Пользоавтель начнет выбирать наименование элемента, подкажут, что такого нет, и предложать опять новый создать.<br><strong>Task:</strong><br>Новые реквизиты для поиска по строке<br>Наименования контрагентов часто повторяются, а ИНН должно быть уникальным.<br># Разработка Новые реквизиты для поиска по строке.<br><strong>Decision:</strong><br>  Конфигурация-справочники-контрагенты-данные-ИНН-индексировать:индексировать-поле ввода-ввод по строке-ИНН &gt; - Код<br><strong>Decision:</strong><br>  Конфигурация-справочники-контрагенты-поле ввода-способ поиска строки:любой части<br><strong>Task:</strong><br>История выбора<br># Разработка История выбора.<br><strong>Decision:</strong><br>  Конфигурация-справочники-контрагенты-поле ввода-история выбора при вводе:авто<br><strong>Decision:</strong><br>При выборе истории выбора - Авто, сначала открывается список выбранных пользователем ранее элементов, а затем команда "показать все" и "добавить"<br>Дополнительные реквизиты, тип данных<br><strong>Task:</strong><br>Для элемента справочника номенклатуры лучше хранить цену и изготовителя, а для контрагентов - инн и адрес. Для этого нужно добавить реквизиты.<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  Конфигуратор - справочники - контрагенты - данные - реквизиты - создать - имя и синоним: адрес - неограниченная длина - ок - создать - имя и синоним: ИНН - длина: 12 - ок<br><strong>Task:</strong><br>Примитивные типы данных<br>Добавим в справчник номенклатура реквизит цена<br># Разработка Примитивные типы данных.<br><strong>Decision:</strong><br>&gt;  Справочник - номенклатура - данные - реквизиты - создать - имя и синоним: Цена - тип: число - длина: 10 - точность: 2 - неотрицательное<br><strong>Task:</strong><br>Ссылочные типы данных<br>Для каждого товара из номенклатуры мы хотим помнить изготовителя (контрагент, который выпускает этот товар, оказывает эту услугу). Поэтому нужно один раз ввести справочник "Контрагенты" того самого изготовителя и многократно выбирать его в разных элементах справочника "Номенклатура"<br># Разработка Ссылочные типы данных.<br><strong>Decision:</strong><br>  Справочники - номенклатура - данные - реквизиты - создать - имя и синоним: Изготовитель - тип: редактор - справочникСсылка - контрагенты<br><strong>Task:</strong><br>Наше предприятие может состоять из нескольких самостоятельных юридических лиц и/или обособленных и выделенных на отдельный баланс подразделений. Список этих самостоятельных бизнес-единиц нужно где-то хранить. Создадим справочник "Организация"<br># Разработка Линейные справочники.<br><strong>Decision:</strong><br>Создадим справочник "Организация"- В закладке данные мы можем упралять длиной стандартных реквизитов "Код" и "Наименование"<br>Внутренний   Код&nbsp;&nbsp;&nbsp;&nbsp; Наименование<br>Идентификатор<br>ID&nbsp;&nbsp;   Строка 3 символа  Строка 25 символов<br>Включение справочника в управляемый интерфейс<br><strong>Task:</strong><br>Чтобы пользователь мог открыть справочни, команда открытия его списка должна быть включена в глобальный командный интерфейс конфигурации.<br>Нужно предоставить пользователю возможность открыть справочник для просмотра и заполнения. Для эттого нужно подключить подсистему.<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  Подсистемы - Общее -<br>И у него должно быть включено использование стандартных команд<br>  Команды - Использовать стандартные команды<br>Переименуем элемент "Основная оргаизация" в "Фабрика" - создадим еще элемент "Торговый дом".<br>В режиме "Версия 8.2" /Сервис/Параметры/Формы в отдельных закладках выглядит это так:<br><strong>Task:</strong><br>Включение в интерфейс обычного приложения<br># Разработка Отчеты.<br><strong>Decision:</strong><br>  Конфигуратор - Общее - Интерфейсы - Интерфейс1 - Общее - Новая - Действие - Объект метаданных:Справочники - Организация - Действие: Открыть справочник организация - ОК<br><strong>Decision:</strong><br>Запустив через "толстый клиент обычное приложение":<br><strong>Task:</strong><br>Иерархические справочники<br>Для хранеия списка справочника, разбитого на группы, создается иерархический справочник. Удобно разбить справочник на группы по видам ценностей: товары, материалы, продукция.<br>Создадим справочник номенкатура.<br># Разработка Иерархические справочники.<br><strong>Decision:</strong><br>  Конфигуратор - Справочник - Номенклатура - Подсистема - Общее - иерархия - иерархический справочник<br><strong>Decision:</strong><br>Таблица иерархического справочника:<br>Ссылка Это   Код   Наименование  Родитель<br>&nbsp;&nbsp;группа<br>...   Истина 01   Группа&nbsp;&nbsp; &lt;Пусто&gt;<br>...   Ложь  02   Элемент&nbsp;&nbsp; Ссылка группы<br><strong>Task:</strong><br>Стандартные реквизиты<br>Свойство "Родитель" может быть не понятно пользователю. Изменить его нужно:<br>  Данные - Стандартные реквизиты - Стандартные реквизиты: Родитель - Синоним: Группа<br>Чтобы определить, какой режим будет основным, и будут ли возможны переключения между разными вариантами интерфейса<br># Разработка Стандартные реквизиты.<br><strong>Decision:</strong><br>откройте свойство корня дерева конфигурации "Конфигурация"-Выберем режим совместимости "Такси-Разрешить Версия 8.2". То есть по умолчанию будет использоваться вариант интерфейса "такси", но можно переключиться в предыдущий вариаант режима.<br>Разделы управляемого интерфейса<br>Создание разделов.<br><strong>Task:</strong><br>Создадим 4 подсистемы. Общее - включает все справочники, закупки - что нужно пользователю для оформления покупки товаров, продажи - для оформления продажи, сервис - служебные функции программы. Чтоб кнопки разделов программа выстроила на панели не по алфавиту, а так как мы это заводили, нужно в окне командный интерфейс выбрать нужный нам порядок.<br># Разработка Отчеты.<br><strong>Decision:</strong><br>конфигурация-общее-подсистемы-сервис-основные-командный интерфейс<br><strong>Task:</strong><br>Настройка положения панелей "Такси"<br>Изменим положение по умолчанию панелей<br># Администрирование баз данных.<br><strong>Decision:</strong><br>Конфигурация-открыть интерфес клиентского приложения - -меняем положения разделов-<br><strong>Task:</strong><br>Можно в пользовательском интерфейсе это сделать<br># Администрирование баз данных.<br><strong>Decision:</strong><br>вид-настройка панелей-меняем положения<br>Управяемый интерфейс "Версия 8.2"<br><strong>Task:</strong><br>Посмотрим результаты нашей работы в интерфейсе "Версия 8.2".<br># Администрирование баз данных.<br><strong>Decision:</strong><br>Сервис-Параметры-+формы в отдельных окнах<br><strong>Task:</strong><br>Интерфейс обычного приложения<br>запустить программу в режиме обычного приложения<br># Администрирование баз данных.<br><strong>Decision:</strong><br>поставить галочку в управляемое приложение и обычное приложение в Конфигуратор-сервис-параметры -запустить через - откладка - начало откладки - толстый клиент (обычное приложение) - начать откладку<br><strong>Source:</strong><br># Практическое пособие разработчика М.Г. Радченко, Е.Ю. Хрусталева<br># https://www.youtube.com/channel/UC124tAuP11GlaGpK3YGHzlw<br><strong>Task:</strong><br>Установка 1с в Ubuntu 20.04<br># Администрирование баз данных.<br><strong>Decision:</strong><br>root@kvmubuntu:~# tar xvzf training_8_3_19_1150.deb64.tar.gz<br>1c-enterprise-8.3.19.1150-training-nls_8.3.19-1150_amd64.deb<br>1c-enterprise-8.3.19.1150-training_8.3.19-1150_amd64.deb<br>1c-enterprise-license-tools-0.14.3+7-linux-x86_64.tar.gz<br>root@kvmubuntu:~# apt -y install libwebkitgtk-3.0-0<br>Reading package lists... Done<br>Building dependency tree  <br>Reading state information... Done<br>Package libwebkitgtk-3.0-0 is not available, but is referred to by another package.<br>This may mean that the package is missing, has been obsoleted, or<br>is only available from another source<br>E: Package 'libwebkitgtk-3.0-0' has no installation candidate<br>root@kvmubuntu:~# cat /etc/apt/sources.list<br># deb cdrom:[Ubuntu 20.04.2.0 LTS _Focal Fossa_ - Release amd64 (20210209.1)]/ focal main restricted<br>deb-src http://archive.ubuntu.com/ubuntu focal main restricted #Added by software-properties<br># See http://help.ubuntu.com/community/UpgradeNotes for how to upgrade to<br># newer versions of the distribution.<br>deb http://us.archive.ubuntu.com/ubuntu/ focal main restricted<br>deb-src http://us.archive.ubuntu.com/ubuntu/ focal multiverse universe main restricted #Added by software-properties<br>## Major bug fix updates produced after the final release of the<br>## distribution.<br>deb http://us.archive.ubuntu.com/ubuntu/ focal-updates main restricted<br>deb-src http://us.archive.ubuntu.com/ubuntu/ focal-updates multiverse universe main restricted #Added by software-properties<br>## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu<br>## team. Also, please note that software in universe WILL NOT receive any<br>## review or updates from the Ubuntu security team.<br>deb http://us.archive.ubuntu.com/ubuntu/ focal universe<br># deb-src http://us.archive.ubuntu.com/ubuntu/ focal universe<br>deb http://us.archive.ubuntu.com/ubuntu/ focal-updates universe<br># deb-src http://us.archive.ubuntu.com/ubuntu/ focal-updates universe<br>## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu<br>## team, and may not be under a free licence. Please satisfy yourself as to<br>## your rights to use the software. Also, please note that software in<br>## multiverse WILL NOT receive any review or updates from the Ubuntu<br>## security team.<br>deb http://us.archive.ubuntu.com/ubuntu/ focal multiverse<br># deb-src http://us.archive.ubuntu.com/ubuntu/ focal multiverse<br>deb http://us.archive.ubuntu.com/ubuntu/ focal-updates multiverse<br># deb-src http://us.archive.ubuntu.com/ubuntu/ focal-updates multiverse<br>## N.B. software from this repository may not have been tested as<br>## extensively as that contained in the main release, although it includes<br>## newer versions of some applications which may provide useful features.<br>## Also, please note that software in backports WILL NOT receive any review<br>## or updates from the Ubuntu security team.<br>deb http://us.archive.ubuntu.com/ubuntu/ focal-backports main restricted universe multiverse<br>deb-src http://us.archive.ubuntu.com/ubuntu/ focal-backports main restricted universe multiverse #Added by software-properties<br>## Uncomment the following two lines to add software from Canonical's<br>## 'partner' repository.<br>## This software is not part of Ubuntu, but is offered by Canonical and the<br>## respective vendors as a service to Ubuntu users.<br># deb http://archive.canonical.com/ubuntu focal partner<br># deb-src http://archive.canonical.com/ubuntu focal partner<br>deb http://security.ubuntu.com/ubuntu focal-security main restricted<br>deb-src http://security.ubuntu.com/ubuntu focal-security multiverse universe main restricted #Added by software-properties<br>deb http://security.ubuntu.com/ubuntu focal-security universe<br># deb-src http://security.ubuntu.com/ubuntu focal-security universe<br>deb http://security.ubuntu.com/ubuntu focal-security multiverse<br># deb-src http://security.ubuntu.com/ubuntu focal-security multiverse<br># This system was installed using small removable media<br># (e.g. netinst, live or single CD). The matching "deb cdrom"<br># entries were disabled at the end of the installation process.<br># For information about how to configure apt package sources,<br># see the sources.list(5) manual.<br>root@kvmubuntu:~# vim /etc/apt/sources.list<br>root@kvmubuntu:~# cat /etc/apt/sources.list<br># deb cdrom:[Ubuntu 20.04.2.0 LTS _Focal Fossa_ - Release amd64 (20210209.1)]/ focal main restricted<br>deb-src http://archive.ubuntu.com/ubuntu focal main restricted #Added by software-properties<br># See http://help.ubuntu.com/community/UpgradeNotes for how to upgrade to<br># newer versions of the distribution.<br>deb http://us.archive.ubuntu.com/ubuntu/ focal main restricted<br>deb-src http://us.archive.ubuntu.com/ubuntu/ focal multiverse universe main restricted #Added by software-properties<br>## Major bug fix updates produced after the final release of the<br>## distribution.<br>deb http://us.archive.ubuntu.com/ubuntu/ focal-updates main restricted<br>deb-src http://us.archive.ubuntu.com/ubuntu/ focal-updates multiverse universe main restricted #Added by software-properties<br>## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu<br>## team. Also, please note that software in universe WILL NOT receive any<br>## review or updates from the Ubuntu security team.<br>deb http://us.archive.ubuntu.com/ubuntu/ focal universe<br># deb-src http://us.archive.ubuntu.com/ubuntu/ focal universe<br>deb http://us.archive.ubuntu.com/ubuntu/ focal-updates universe<br># deb-src http://us.archive.ubuntu.com/ubuntu/ focal-updates universe<br>## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu<br>## team, and may not be under a free licence. Please satisfy yourself as to<br>## your rights to use the software. Also, please note that software in<br>## multiverse WILL NOT receive any review or updates from the Ubuntu<br>## security team.<br>deb http://us.archive.ubuntu.com/ubuntu/ focal multiverse<br># deb-src http://us.archive.ubuntu.com/ubuntu/ focal multiverse<br>deb http://us.archive.ubuntu.com/ubuntu/ focal-updates multiverse<br># deb-src http://us.archive.ubuntu.com/ubuntu/ focal-updates multiverse<br>## N.B. software from this repository may not have been tested as<br>## extensively as that contained in the main release, although it includes<br>## newer versions of some applications which may provide useful features.<br>## Also, please note that software in backports WILL NOT receive any review<br>## or updates from the Ubuntu security team.<br>deb http://us.archive.ubuntu.com/ubuntu/ focal-backports main restricted universe multiverse<br>deb-src http://us.archive.ubuntu.com/ubuntu/ focal-backports main restricted universe multiverse #Added by software-properties<br>## Uncomment the following two lines to add software from Canonical's<br>## 'partner' repository.<br>## This software is not part of Ubuntu, but is offered by Canonical and the<br>## respective vendors as a service to Ubuntu users.<br># deb http://archive.canonical.com/ubuntu focal partner<br># deb-src http://archive.canonical.com/ubuntu focal partner<br>deb http://security.ubuntu.com/ubuntu focal-security main restricted<br>deb-src http://security.ubuntu.com/ubuntu focal-security multiverse universe main restricted #Added by software-properties<br>deb http://security.ubuntu.com/ubuntu focal-security universe<br># deb-src http://security.ubuntu.com/ubuntu focal-security universe<br>deb http://security.ubuntu.com/ubuntu focal-security multiverse<br># deb-src http://security.ubuntu.com/ubuntu focal-security multiverse<br># This system was installed using small removable media<br># (e.g. netinst, live or single CD). The matching "deb cdrom"<br># entries were disabled at the end of the installation process.<br># For information about how to configure apt package sources,<br># see the sources.list(5) manual.<br>deb http://ru.archive.ubuntu.com/ubuntu/ bionic main universe<br>root@kvmubuntu:~# apt-get update<br>root@kvmubuntu:~# apt -y install libwebkitgtk-3.0-0<br>root@kvmubuntu:~# apt -y install ./1c-enterprise-8.3.19.1150-training_8.3.19-1150_amd64.deb<br><strong>Task:</strong><br>Создать внешнюю печатную форму<br># Разработка Внешняя печатная форма.<br><strong>Decision:</strong><br>файл-&gt;новый-&gt;внешняя обработка-&gt;Имя:ЗаказВнешний-&gt;Действие-&gt;открыть модуль объекта<br>Функция СведенияОВнешнейОбработке() Экспорт<br>  ПараметрыРегистрации = Новый Структура;<br>  МассивНазначений = Новый Массив;<br>  МассивНазначений.Добавить("Документ.РеализацияТоваровУслуг"); //Указываем документ к которому делаем внешнюю печ. форму<br>  ПараметрыРегистрации.Вставить("Вид", "ПечатнаяФорма"); //может быть - ПечатнаяФорма, ЗаполнениеОбъекта, ДополнительныйОтчет, СозданиеСвязанныхОбъектов...<br>  ПараметрыРегистрации.Вставить("Назначение", МассивНазначений);<br>  ПараметрыРегистрации.Вставить("Наименование", "Заказ для реализации товаров"); //имя под которым обработка будет зарегестрирована в справочнике внешних обработок<br>  ПараметрыРегистрации.Вставить("БезопасныйРежим", ЛОЖЬ);<br>  ПараметрыРегистрации.Вставить("Версия", "1.0");<br>  ПараметрыРегистрации.Вставить("Информация", "Эту ВПФ мы сделали для того что бы посмотреть возможности БСП ");<br>  ТаблицаКоманд = ПолучитьТаблицуКоманд();<br>  ДобавитьКоманду(ТаблицаКоманд, "Заказ внешний", "ЗаказВнешний", "ВызовСерверногоМетода", Истина, "ПечатьMXL");<br>  ПараметрыРегистрации.Вставить("Команды", ТаблицаКоманд);<br>  Возврат ПараметрыРегистрации;<br>КонецФункции // СведенияОВнешнейОбработке()<br>Функция ПолучитьТаблицуКоманд()<br>  Команды = Новый ТаблицаЗначений;<br>  Команды.Колонки.Добавить("Представление", Новый ОписаниеТипов("Строка"));//как будет выглядеть описание печ.формы для пользователя<br>  Команды.Колонки.Добавить("Идентификатор", Новый ОписаниеТипов("Строка")); //имя макета печ.формы<br>  Команды.Колонки.Добавить("Использование", Новый ОписаниеТипов("Строка")); //ВызовСерверногоМетода<br>  Команды.Колонки.Добавить("ПоказыватьОповещение", Новый ОписаниеТипов("Булево"));<br>  Команды.Колонки.Добавить("Модификатор", Новый ОписаниеТипов("Строка"));<br>  Возврат Команды;<br>КонецФункции<br>Процедура ДобавитьКоманду(ТаблицаКоманд, Представление, Идентификатор, Использование, ПоказыватьОповещение = Ложь, Модификатор = "")<br>  НоваяКоманда = ТаблицаКоманд.Добавить();<br>  НоваяКоманда.Представление = Представление;<br>  НоваяКоманда.Идентификатор = Идентификатор;<br>  НоваяКоманда.Использование = Использование;<br>  НоваяКоманда.ПоказыватьОповещение = ПоказыватьОповещение;<br>  НоваяКоманда.Модификатор = Модификатор;<br>КонецПроцедуры<br>Процедура Печать(МассивОбъектов, КоллекцияПечатныхФорм, ОбъектыПечати, ПараметрыВывода) Экспорт<br>  УправлениеПечатью.ВывестиТабличныйДокументВКоллекцию(<br>&nbsp;&nbsp;КоллекцияПечатныхФорм,<br>&nbsp;&nbsp;"ЗаказВнешний",<br>&nbsp;&nbsp;"Заказ внешний",<br>&nbsp;&nbsp;СформироватьПечатнуюФорму(МассивОбъектов[0], ОбъектыПечати));<br>КонецПроцедуры // Печать()<br>Функция СформироватьПечатнуюФорму(СсылкаНаОбъект, ОбъектПечати)<br>КонецФункции // СформироватьПечатнуюФорму(СсылкаНаОбъект, ОбъектПечати)()<br><br>Макеты-&gt;Добавить-&gt;Имя: МакетЗаказа-&gt;Выделить область-&gt;Объединить<br><br>  Заказ на товар № [НомерРеализации] от [ДатаРеализации]<br><br>Свойства-&gt;макет-&gt;заполнение:шаблон<br><br>  Товар,Количество,Цена,Сумма<br><br>Выделить заполненные ячейки-&gt;Таблица-&gt;Имя-&gt;Назначить имя-&gt;Шапка-&gt;Скопируем:Товар,Количество,Цена,Сумма-&gt;Свойства-&gt;Макет-&gt;Заполнение-&gt;Параметр-&gt;Выделить заполненные ячейки-&gt;Таблица-&gt;Имя-&gt;Назначить имя-&gt;СтрокаТЧ<br><br>  Итого:, СуммаИтого, Ответственный,Ответственный<br><br>Выделить: СуммаИтого-&gt;Свойства-&gt;Макет-&gt;Заполнение-&gt;Параметр-&gt;Выделить:Ответственный-&gt;Свойства-&gt;Макет-&gt;Заполнение-&gt;Параметр-&gt;Выделить заполненные ячейки-&gt;Таблица-&gt;Имя-&gt;Назначить имя-&gt;Подвал<br><br>Функция СформироватьПечатнуюФорму(СсылкаНаОбъект, ОбъектПечати)<br>  ТабличныйДокумент = Новый ТабличныйДокумент;<br>  МакетОбработки=ПолучитьМакет("МакетЗаказа");<br>  ОбластьШапки=МакетОбработки.ПолучитьОбласть("Шапка");<br>  ОбластьШапки.Параметры.НомерРеализации=СсылкаНаОбъект.Номер;<br>  ОбластьШапки.Параметры.ДатаРеализации=Формат(СсылкаНаОбъект.Дата, )<br>КонецФункции<br><br>Конструктор форматной строки-&gt;Дата-&gt;Локальный формат даты+-&gt;Проверим товары,цена,сумма,количество,ответственный в конфигураторе документы-&gt;РеализацияТоваровУслуг-&gt;Табличные части-&gt;Таблицы-&gt;товары,цена,сумма,количество-&gt;Реквизиты-&gt;-&gt;Контрагент-&gt;Находим объекты<br><br>Функция СформироватьПечатнуюФорму(СсылкаНаОбъект, ОбъектПечати)<br>  ТабличныйДокумент = Новый ТабличныйДокумент;<br>  МакетОбработки=ПолучитьМакет("МакетЗаказа");<br>  ОбластьШапки=МакетОбработки.ПолучитьОбласть("Шапка");<br>  ОбластьШапки.Параметры.НомерРеализации=СсылкаНаОбъект.Номер;<br>  ОбластьШапки.Параметры.ДатаРеализации=Формат(СсылкаНаОбъект.Дата, "ДЛФ=DD");<br>  ТабличныйДокумент.Вывести(ОбластьШапки);<br>  ОбластьСтроки=МакетОбработки.ПолучитьОбласть("СтрокаТЧ");<br>  Для каждого ТекущаяСтрока Из СсылкаНаОбъект.Товары Цикл<br>&nbsp;&nbsp;ОбластьСтроки.Параметры.Товар=ТекущаяСтрока.Номенклатура;<br>&nbsp;&nbsp;ОбластьСтроки.Параметры.Цена=ТекущаяСтрока.Цена;<br>&nbsp;&nbsp;ОбластьСтроки.Параметры.Количество=ТекущаяСтрока.Количество;<br>&nbsp;&nbsp;ОбластьСтроки.Параметры.Сумма=ТекущаяСтрока.Сумма;<br>&nbsp;&nbsp;ТабличныйДокумент.Вывести(ОбластьСтроки);<br>  КонецЦикла;<br>  ОбластьПодвала=МакетОбработки.ПолучитьОбласть("Подвал");<br>  ОбластьПодвала.Параметры.Ответственный=СсылкаНаОбъект.Контрагент;<br>  //ОбластьПодвала.Параметры.СуммаИтого=СсылкаНаОбъект.Товары.Итог(Сумма);<br>  ТабличныйДокумент.Вывести(ОбластьПодвала);<br>  Возврат ТабличныйДокумент;<br>КонецФункции<br><strong>Decision:</strong><br>НСИ и Администрирование-&gt;Печатные формы, отчеты и обработки-&gt;Дополнительные отчеты и обработки-&gt;Создать-&gt;ЗаказВнешний-&gt;Записать и закрыть-&gt;Продажи-&gt;Документ продажи-&gt;Печать-&gt;ЗаказВнешний<br><strong>Source:</strong><br># https://programmist1s.ru/vneshnie-pechatnyie-formyi-v-1s/<br><strong>Task:</strong><br>Как хранить картинки<br>Для каждого товара, который хранится в справочнике номенклатура, нужно хранить его изображение. То есть пользователь должен иметь возможность в форме нажать на кнопку и выбрать картинку и в резльтате картинка должна отобразиться на форме.<br># Разработка Хранилище картинок.<br><strong>Decision:</strong><br>  Справчоник-номенклатура-реквизиты-добавить-имя-изображение-тип данных - хранилище значений - ок - формы - форма элемента - реквизит - добавить - Имя - адресКартинки - ок - перетаскиваем в группу - вид - поле картинки - гиберссылка + - оформление - размер картинки - пропорциональный - использованиен - текстНе выбраннойКартинки - Нажмите для выбора карнтинки - ок - свойства -адрес Картинки - события - нажатие - на клиенте<br>&НаКлиенте<br>Процедура АдресКартинкиНажатие(Элемент, СтандартнаяОбработка)<br>  //добавляем картинку<br>  Оповещение = Новый ОписаниеОповещения("АдресКартинкиНажатиеЗавершение", ЭтотОбъект);<br>  НачатьПомещениеФайла(Оповещение,,,Истина, УникальныйИдентификатор);<br>  СтандартнаяОбработка = Ложь;<br>КонецПроцедуры  <br>&НаКлиенте<br>Процедура АдресКартинкиНажатиеЗавершение(Результат, Адрес, ПомещаемыйФайл, ДополнительныеПараметры) Экспорт<br>  Если НЕ Результат Тогда<br>&nbsp;&nbsp;Возврат;<br>  КонецЕсли;<br>  АдресКартинки=Адрес;<br>  Модифицированность=Истина;<br>КонецПроцедуры<br><br>Запуск<br><br>  формы - форма элемента - формы - свойства - события - ПередЗаписьюНаСервере<br><br>&НаСервере<br>Процедура ПередЗаписьюНаСервере(Отказ, ТекущийОбъект, ПараметрыЗаписи)<br>  Если ЭтоАдресВременногоХранилища(АдресКартинки) Тогда<br>&nbsp;&nbsp;ТекущийОбъект.Изображение=Новый ХранилищеЗначения(ПолучитьИзВременногоХранилища(АдресКартинки));<br>  КонецЕсли;<br>КонецПроцедуры<br><br>  формы - форма элемента - формы - свойства - собыия - ПриСозданииНаСервере<br><br>&НаСервере<br>Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)<br>  АдресКартинки=ПолучитьНавигационнуюСсылку(Объект.Ссылка, "Изображение");<br>КонецПроцедуры<br><br>Запуск<br><br>  формы - форма элемента - добавить команду - ОчиститьИзображение - представление - выбрать картинку - отображение - картинка - ок - перетаскиваем в форму - действие команды - на клиенте<br><br>&НаСервере<br>Процедура ПередЗаписьюНаСервере(Отказ, ТекущийОбъект, ПараметрыЗаписи)<br>  Если ЭтоАдресВременногоХранилища(АдресКартинки) Тогда<br>&nbsp;&nbsp;ТекущийОбъект.Изображение=Новый ХранилищеЗначения(ПолучитьИзВременногоХранилища(АдресКартинки));<br>  КонецЕсли;  <br>  Если ПустаяСтрока(АдресКартинки) Тогда<br>&nbsp;&nbsp;ТекущийОбъект.Изображение = Неопределено;<br>  КонецЕсли;<br>КонецПроцедуры<br>&НаСервере<br>Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)<br>  АдресКартинки=ПолучитьНавигационнуюСсылку(Объект.Ссылка, "Изображение");<br>КонецПроцедуры<br>&НаКлиенте<br>Процедура ОчиститьИзображение(Команда)<br>  АдресКартинки="";<br>  Модифицированность=Истина;<br>КонецПроцедуры<br><strong>Task:</strong><br>Загрузить данные из внешнего файла в справочник контрагенты.<br># Разработка Отчеты.<br><strong>Decision:</strong><br>Для запуска можно установить 1с учебную версию: online.1c.ru - добавить новую базу - запустить конфигуратор - Администрирование -загрузить базу, выбрав файл с расширением *.dt - запустить<br>Обработка-создать-загрузка данных из файла-подсистема--данные-реквизит-добавить-ПутьКФайлу,ФорматФайла-длина строки-256,3-табличная часть-добавить-данные файла-добавить реквизит-наименование,полное наименование,унп-длина строки-150,150,9-формы-добавить форму обработки-везде+, кроме номер строки-ок-камндная панель-свойства--атозаполнение-данные файла-свойства-использование--изменить состав строк-путь к файлу-сфойства-использование-кнопка выбора-да-формат файла-свойства-использование-список выбора-значение-TXT,CSV,XLS,DBF,XML-Основные-Вид-Полеперключателя-Вид переключателя-Тумблер-ок-команды-добавить-ПрочитатьФайл,ЗаписатьДанные-перетаскиваем в командную панель таблицы ДанныеФайла-путь к Файлу-свойства-события-началов выбора-на клиенте<br><br>&НаКлиенте<br>Процедура ПутьКФайлуНачалоВыбора(Элемент, ДанныеВыбора, СтандартнаяОбработка)<br>  Проводник=Новый ДиалогВыбораФайла(РежимДиалогаВыбораФайла.Открытие);<br>  Проводник.Заголовок="Выберитефайл с контрагентами";<br>  Если Объект.ФорматФайла="TXT" Тогда<br>&nbsp;&nbsp;Фильтр="Текстовый документ (*.txt)|*.txt";<br>  ИначеЕсли Объект.ФорматФайла="CSV" Тогда<br>&nbsp;&nbsp;Фильтр="Текстовый документ (*.csv)|*.csv";<br>  ИначеЕсли Объект.ФорматФайла="XLS" Тогда<br>&nbsp;&nbsp;Фильтр="Файл ЕКСЕЛЬ (*.xls)|*.xls";<br>  ИначеЕсли Объект.ФорматФайла="DBF" Тогда<br>&nbsp;&nbsp;Фильтр="Таблица DBF (*.dbf)|*.dbf";<br>  ИначеЕсли Объект.ФорматФайла="XML" Тогда<br>&nbsp;&nbsp;Фильтр="XML-файл (*.xml)|*.xml";<br>  Иначе<br>&nbsp;&nbsp;Возврат;<br>  КонецЕсли;<br>  Проводник.Фильтр=Фильтр;<br>  Оповещение=Новый ОписаниеОповещения("ПослеВыбораФайла", ЭтотОбъект);<br>  Проводник.Показать(Оповещение);<br>КонецПроцедуры<br><br>&НаКлиенте<br>Процедура ПослеВыбораФайла(ВыбранныеФайлы, ДополнительныеПараметры) Экспорт<br>  Если ВыбранныеФайлы=Неопределено Тогда<br>&nbsp;&nbsp;Возврат;<br>  КонецЕсли;<br>  Объект.ПутьКФайлу=ВыбранныеФайлы[0];<br>КонецПроцедуры<br><strong>Task:</strong><br>Как вывести штрихкод в печатную форму<br># Разработка Штрихкод.<br><strong>Decision:</strong><br>&nbsp;&nbsp;установить элемент управления «1С: Печать штрихкодов» - its.1c.ru - ок - открыть обработку - макеты - Макет_ТолстыйКлиент - выделить поля от 2 до 8 - таблица -имена - назначить - Штрихкод - таблица - рисунки - вставить объект - мышкой выделяем нужную область в виде прямоугольника - элемент управления - 1сV8 печать штрихкодов - ок на добавленный фрагмент - свойства - КартинкаШтрихкода - оформление - линия - нет линий - ок - формы - ФормаОбычная - вывести штрихкод - ВывестиШтрихкод -<br><br>Процедура ВывестиШтрихкод(Кнопка)  <br>&nbsp;&nbsp;ЭлементыФормы.ТабДок.Очистить(); //1 выполним очистку документа  <br>&nbsp;&nbsp;Макет = ПолучитьМакет("Макет_ТолстыйКлиент"); //2 Получить макет<br>&nbsp;&nbsp;Область = Макет.ПолучитьОбласть("Штрихкод"); //3 получить область макета<br>&nbsp;&nbsp;Область.Рисунки.КартинкаШтрихкода.Объект.ТипКода = 4; //4 обратимся к элементу управления<br>&nbsp;&nbsp;Область.Рисунки.КартинкаШтрихкода.Объект.Сообщение = Штрихкод; //5 необходимо вывести область сообщение<br>&nbsp;&nbsp;ЭлементыФормы.ТабДок.Вывести(Область); //6<br>КонецПроцедуры<br><br>&nbsp;&nbsp;запустить у ее нужно в режиме толстый клиент - сервис - параметры - запуск 1с предприятия - +толстый клиент обычное приложение - ок - запуск<br><strong>Task:</strong><br>Вывод штрихкода в печатную форму 1С. Тонкий клиент.<br># Разработка Штрихкод.<br><strong>Decision:</strong><br>&nbsp;&nbsp;Загрузить внешнюю компоненту печати штрихкодов в общий макет - its.1c.ru - после установки создать новую информационную базу - общие - общие макеты - копируем в нашу конфигурацию 4 макета (КомпонентаПечатиШтрихкодов....) - смотрим также код в демо конфе справчоник - товары - открыть модуль команды - копируем в нашу конифгурацию код:<br>Функция ПолучитьКартинкуШтрихкода()<br>&nbsp;&nbsp;// В зависимости от типа платформы подключим соответствующую внешнюю компоненту<br>&nbsp;&nbsp;ИнформацияОСистеме = Новый СистемнаяИнформация;<br>&nbsp;&nbsp;Если ИнформацияОСистеме.ТипПлатформы = ТипПлатформы.Windows_x86 Тогда<br>&nbsp;&nbsp;&nbsp;&nbsp;ПодключитьВнешнююКомпоненту("ОбщийМакет.КомпонентаПечатиШтрихкодовWindows32", "КартинкаШтрихкода", ТипВнешнейКомпоненты.Native);<br>&nbsp;&nbsp;ИначеЕсли ИнформацияОСистеме.ТипПлатформы = ТипПлатформы.Windows_x86_64 Тогда<br>&nbsp;&nbsp;&nbsp;&nbsp;ПодключитьВнешнююКомпоненту("ОбщийМакет.КомпонентаПечатиШтрихкодовWindows64", "КартинкаШтрихкода", ТипВнешнейКомпоненты.Native);<br>&nbsp;&nbsp;ИначеЕсли ИнформацияОСистеме.ТипПлатформы = ТипПлатформы.Linux_x86 Тогда<br>&nbsp;&nbsp;&nbsp;&nbsp;ПодключитьВнешнююКомпоненту("ОбщийМакет.КомпонентаПечатиШтрихкодовLinux32", "КартинкаШтрихкода", ТипВнешнейКомпоненты.Native);&nbsp;&nbsp;<br>&nbsp;&nbsp;Иначе<br>&nbsp;&nbsp;&nbsp;&nbsp;ПодключитьВнешнююКомпоненту("ОбщийМакет.КомпонентаПечатиШтрихкодовLinux64", "КартинкаШтрихкода", ТипВнешнейКомпоненты.Native);<br>&nbsp;&nbsp;КонецЕсли;<br>&nbsp;&nbsp;// Создадим объект внешней компоненты<br>&nbsp;&nbsp;Компонент = Новый("AddIn.КартинкаШтрихкода.Barcode");<br>&nbsp;&nbsp;// Если нет возможности рисовать<br>&nbsp;&nbsp;Если НЕ Компонент.ГрафикаУстановлена Тогда<br>&nbsp;&nbsp;&nbsp;&nbsp;// То картинку сформировать не сможем<br>&nbsp;&nbsp;&nbsp;&nbsp;Возврат Неопределено;<br>&nbsp;&nbsp;КонецЕсли;<br>&nbsp;&nbsp;// Если в системе установлен шрифт Tahoma<br>&nbsp;&nbsp;Если Компонент.НайтиШрифт("Tahoma") = Истина Тогда<br>&nbsp;&nbsp;&nbsp;&nbsp;// Выбираем его как шрифт для формирования картинки<br>&nbsp;&nbsp;&nbsp;&nbsp;Компонент.Шрифт = "Tahoma";<br>&nbsp;&nbsp;Иначе<br>&nbsp;&nbsp;&nbsp;&nbsp;// Шрифт Tahoma в системе отсутствует<br>&nbsp;&nbsp;&nbsp;&nbsp;// Обойдем все доступные компоненте шрифты<br>&nbsp;&nbsp;&nbsp;&nbsp;Для Сч = 0 По Компонент.КоличествоШрифтов -1 Цикл<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Получим очередной шрифт, доступный компоненте<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ТекущийШрифт = Компонент.ШрифтПоИндексу(Сч);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Если шрифт доступен<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Если ТекущийШрифт &lt;&gt; Неопределено Тогда<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Они и будет шрифтом для формирования штрихкода<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Компонент.Шрифт = ТекущийШрифт;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Прервать;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;КонецЕсли;<br>&nbsp;&nbsp;&nbsp;&nbsp;КонецЦикла;<br>&nbsp;&nbsp;КонецЕсли;<br>&nbsp;&nbsp;// Установим размер шрифта<br>&nbsp;&nbsp;Компонент.РазмерШрифта = 12;<br>&nbsp;&nbsp;// Зададим размер картинки<br>&nbsp;&nbsp;Компонент.Ширина = 100;<br>&nbsp;&nbsp;Компонент.Высота = 90;<br>&nbsp;&nbsp;// Разрешим компоненте самой определять тип кода<br>&nbsp;&nbsp;Компонент.АвтоТип = Истина;<br>&nbsp;&nbsp;// ИЛИ установим код EAN-13<br>&nbsp;&nbsp;// Компонент.ТипКода = 1;<br>&nbsp;&nbsp;//<br>&nbsp;&nbsp;// Тип смотрим в документации на внешнюю компоненту<br>&nbsp;&nbsp;// Если код содержит контрольный символ, обязательно указываем<br>&nbsp;&nbsp;Компонент.СодержитКС = СтрДлина(ЭтотОбъект.Штрихкод) = 13;<br>&nbsp;&nbsp;// Если отображать контрольный символ не нужно<br>&nbsp;&nbsp;// Компонент.ВидимостьКС = Ложь;<br>&nbsp;&nbsp;// Формируем картинку штрихкода<br>&nbsp;&nbsp;Компонент.ЗначениеКода = ЭтотОбъект.Штрихкод;<br>&nbsp;&nbsp;// Если установленная нами ширина меньше минимально допустимой для этого штрихкода<br>&nbsp;&nbsp;Если Компонент.Ширина &lt; Компонент.МинимальнаяШиринаКода Тогда<br>&nbsp;&nbsp;&nbsp;&nbsp;// Скорректируем ширину<br>&nbsp;&nbsp;&nbsp;&nbsp;Компонент.Ширина = Компонент.МинимальнаяШиринаКода + 10;<br>&nbsp;&nbsp;КонецЕсли;<br>&nbsp;&nbsp;// Сформируем картинку<br>&nbsp;&nbsp;ДвоичныеДанныеКартинки = Компонент.ПолучитьШтрихкод();<br>&nbsp;&nbsp;// Если картинка сформировалась<br>&nbsp;&nbsp;Если НЕ ДвоичныеДанныеКартинки = Неопределено Тогда<br>&nbsp;&nbsp;&nbsp;&nbsp;// Формируем из двоичных данных<br>&nbsp;&nbsp;&nbsp;&nbsp;Возврат Новый Картинка(ДвоичныеДанныеКартинки);<br>&nbsp;&nbsp;КонецЕсли;<br>&nbsp;&nbsp;Возврат Неопределено;<br>КонецФункции<br><br>&nbsp;&nbsp;вставим ее в обработку ВыводШтрихкодаВПечатнуюФорму с директивыой &НаСервере - формы - ФормаУправляемая - Макеты - Макет_ТонкийКлиент - выделим область полей с 2 до 8 - таблица -имена - назначить имя - Штрихкод - наводим на поле - таблица - рисунки - картинка - выбираем картинку с .пнг - свойства картинки - КартинкаШтрихкода - оформление - линия - формы - форма управляемая<br><br>&НаСервере<br>Процедура ВывестиШтрихкодНаСервере()<br>&nbsp;&nbsp;ТабДок.Очистить();<br>&nbsp;&nbsp;Макет = РеквизитФормыВЗначение("Объект").ПолучитьМакет("Макет_ТонкийКлиент");<br>&nbsp;&nbsp;Область = Макет.ПолучитьОбласть("Штрихкод");<br>&nbsp;&nbsp;КартинкаШтрихкода = ПолучитьКартинкуШтрихкода(Штрихкод);<br>&nbsp;&nbsp;Если КартинкаШтрихкода &lt;&gt; Неопределено Тогда<br>&nbsp;&nbsp;&nbsp;&nbsp;Область.Рисунки.КартинкаШтрихкода.Картинка = КартинкаШтрихкода;<br>&nbsp;&nbsp;КонецЕсли;<br>&nbsp;&nbsp;ТабДок.Вывести(Область);<br>КонецПроцедуры<br>&НаКлиенте<br>Процедура ВывестиШтрихкод(Команда)<br>&nbsp;&nbsp;ВывестиШтрихкодНаСервере();<br>КонецПроцедуры<br><br>&nbsp;&nbsp;в Функции изменить строку и вместо ЭтотШтрихкод заменить Штрихкод:<br><br>//Функция ПолучитьКартинкуШтрихкода()<br>Функция ПолучитьКартинкуШтрихкода(Штрихкод)<br>&nbsp;&nbsp;...<br>&nbsp;&nbsp;// Формируем картинку штрихкода<br>&nbsp;&nbsp;//Компонент.ЗначениеКода = ЭтотОбъект.Штрихкод;<br>&nbsp;&nbsp;Компонент.ЗначениеКода = Штрихкод;<br><br>&nbsp;&nbsp;ок - запустить у ее нужно в режиме тонкий клиент - сервис - параметры - запуск 1с предприятия - +Выбрать автоматически - ок - запуск</p>
